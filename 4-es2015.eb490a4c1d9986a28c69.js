(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5],{"/+cc":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(2),o=r(8),a=r(0),s=function(){function e(t,r){var n=r.location,i=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,u=r.threshold,l=void 0===u?.6:u,c=r.maxPatternLength,f=void 0===c?32:c,h=r.caseSensitive,p=void 0!==h&&h,d=r.tokenSeparator,v=void 0===d?/ +/g:d,y=r.findAllMatches,g=void 0!==y&&y,m=r.minMatchCharLength,b=void 0===m?1:m,w=r.id,k=void 0===w?null:w,O=r.keys,S=void 0===O?[]:O,_=r.shouldSort,x=void 0===_||_,M=r.getFn,T=void 0===M?o:M,A=r.sortFn,I=void 0===A?function(e,t){return e.score-t.score}:A,$=r.tokenize,P=void 0!==$&&$,E=r.matchAllTokens,L=void 0!==E&&E,q=r.includeMatches,N=void 0!==q&&q,j=r.includeScore,C=void 0!==j&&j,D=r.verbose,z=void 0!==D&&D;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:s,threshold:l,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:v,findAllMatches:g,minMatchCharLength:b,id:k,keys:S,includeMatches:N,includeScore:C,shouldSort:x,getFn:T,sortFn:I,verbose:z,tokenize:P,matchAllTokens:L},this.setCollection(t)}var t;return(t=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var r=this._prepareSearchers(e),n=this._search(r.tokenSearchers,r.fullSearcher),i=n.results;return this._computeScore(n.weights,i),this.options.shouldSort&&this._sort(i),t.limit&&"number"==typeof t.limit&&(i=i.slice(0,t.limit)),this._format(i)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,o=r.length;n<o;n+=1)t.push(new i(r[n],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},i=[];if("string"==typeof r[0]){for(var o=0,a=r.length;o<a;o+=1)this._analyze({key:"",value:r[o],record:o,index:o},{resultMap:n,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var s={},u=0,l=r.length;u<l;u+=1)for(var c=r[u],f=0,h=this.options.keys.length;f<h;f+=1){var p=this.options.keys[f];if("string"!=typeof p){if(s[p.name]={weight:1-p.weight||1},p.weight<=0||p.weight>1)throw new Error("Key weight has to be > 0 and <= 1");p=p.name}else s[p]={weight:1};this._analyze({key:p,value:this.options.getFn(c,p),record:c,index:u},{resultMap:n,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:i}}},{key:"_analyze",value:function(e,t){var r=e.key,n=e.arrayIndex,i=void 0===n?-1:n,o=e.value,s=e.record,u=e.index,l=t.tokenSearchers,c=void 0===l?[]:l,f=t.fullSearcher,h=void 0===f?[]:f,p=t.resultMap,d=void 0===p?{}:p,v=t.results,y=void 0===v?[]:v;if(null!=o){var g=!1,m=-1,b=0;if("string"==typeof o){this._log("\nKey: ".concat(""===r?"-":r));var w=h.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat(w.score)),this.options.tokenize){for(var k=o.split(this.options.tokenSeparator),O=[],S=0;S<c.length;S+=1){var _=c[S];this._log('\nPattern: "'.concat(_.pattern,'"'));for(var x=!1,M=0;M<k.length;M+=1){var T=k[M],A=_.search(T),I={};A.isMatch?(I[T]=A.score,g=!0,x=!0,O.push(A.score)):(I[T]=1,this.options.matchAllTokens||O.push(1)),this._log('Token: "'.concat(T,'", score: ').concat(I[T]))}x&&(b+=1)}m=O[0];for(var $=O.length,P=1;P<$;P+=1)m+=O[P];this._log("Token score average:",m/=$)}var E=w.score;m>-1&&(E=(E+m)/2),this._log("Score average:",E);var L=!this.options.tokenize||!this.options.matchAllTokens||b>=c.length;if(this._log("\nCheck Matches: ".concat(L)),(g||w.isMatch)&&L){var q=d[u];q?q.output.push({key:r,arrayIndex:i,value:o,score:E,matchedIndices:w.matchedIndices}):(d[u]={item:s,output:[{key:r,arrayIndex:i,value:o,score:E,matchedIndices:w.matchedIndices}]},y.push(d[u]))}}else if(a(o))for(var N=0,j=o.length;N<j;N+=1)this._analyze({key:r,arrayIndex:N,value:o[N],record:s,index:u},{resultMap:d,results:y,tokenSearchers:c,fullSearcher:h})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var r=0,n=t.length;r<n;r+=1){for(var i=t[r].output,o=i.length,a=1,s=1,u=0;u<o;u+=1){var l=e?e[i[u].key].weight:1,c=(1===l?i[u].score:i[u].score||.001)*l;1!==l?s=Math.min(s,c):(i[u].nScore=c,a*=c)}t[r].score=1===s?a:s,this._log(t[r])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t})),r=null}var i=[];this.options.includeMatches&&i.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,i=r.length;n<i;n+=1){var o=r[n];if(0!==o.matchedIndices.length){var a={indices:o.matchedIndices,value:o.value};o.key&&(a.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(a.arrayIndex=o.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&i.push(function(e,t){t.score=e.score});for(var o=0,a=e.length;o<a;o+=1){var s=e[o];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),i.length){for(var u={item:s.item},l=0,c=i.length;l<c;l+=1)i[l](s,u);t.push(u)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();e.exports=s},function(e,t,r){var n=r(3),i=r(4),o=r(7),a=function(){function e(t,r){var n=r.location,i=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,u=r.threshold,l=void 0===u?.6:u,c=r.maxPatternLength,f=void 0===c?32:c,h=r.isCaseSensitive,p=void 0!==h&&h,d=r.tokenSeparator,v=void 0===d?/ +/g:d,y=r.findAllMatches,g=void 0!==y&&y,m=r.minMatchCharLength,b=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:s,threshold:l,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:v,findAllMatches:g,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=o(this.pattern))}var t;return(t=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options;if(this.pattern.length>t.maxPatternLength)return n(e,this.pattern,t.tokenSeparator);var r=this.options;return i(e,this.pattern,this.patternAlphabet,{location:r.location,distance:r.distance,threshold:r.threshold,findAllMatches:r.findAllMatches,minMatchCharLength:r.minMatchCharLength})}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();e.exports=a},function(e,t){var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(r,"\\$&").replace(n,"|")),o=e.match(i),a=!!o,s=[];if(a)for(var u=0,l=o.length;u<l;u+=1){var c=o[u];s.push([e.indexOf(c),c.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){var n=r(5),i=r(6);e.exports=function(e,t,r,o){for(var a=o.location,s=o.distance,u=void 0===s?100:s,l=o.threshold,c=o.findAllMatches,f=void 0!==c&&c,h=o.minMatchCharLength,p=void 0===h?1:h,d=void 0===a?0:a,v=e.length,y=void 0===l?.6:l,g=e.indexOf(t,d),m=t.length,b=[],w=0;w<v;w+=1)b[w]=0;if(-1!==g){var k=n(t,{errors:0,currentLocation:g,expectedLocation:d,distance:u});if(y=Math.min(k,y),-1!==(g=e.lastIndexOf(t,d+m))){var O=n(t,{errors:0,currentLocation:g,expectedLocation:d,distance:u});y=Math.min(O,y)}}g=-1;for(var S=[],_=1,x=m+v,M=1<<m-1,T=0;T<m;T+=1){for(var A=0,I=x;A<I;)n(t,{errors:T,currentLocation:d+I,expectedLocation:d,distance:u})<=y?A=I:x=I,I=Math.floor((x-A)/2+A);x=I;var $=Math.max(1,d-I+1),P=f?v:Math.min(d+I,v)+m,E=Array(P+2);E[P+1]=(1<<T)-1;for(var L=P;L>=$;L-=1){var q=L-1,N=r[e.charAt(q)];if(N&&(b[q]=1),E[L]=(E[L+1]<<1|1)&N,0!==T&&(E[L]|=(S[L+1]|S[L])<<1|1|S[L+1]),E[L]&M&&(_=n(t,{errors:T,currentLocation:q,expectedLocation:d,distance:u}))<=y){if(y=_,(g=q)<=d)break;$=Math.max(1,2*d-g)}}if(n(t,{errors:T+1,currentLocation:d,expectedLocation:d,distance:u})>y)break;S=E}return{isMatch:g>=0,score:0===_?.001:_,matchedIndices:i(b,p)}}},function(e,t){e.exports=function(e,t){var r=t.errors,n=t.currentLocation,i=t.expectedLocation,o=t.distance,a=void 0===o?100:o,s=(void 0===r?0:r)/e.length,u=Math.abs((void 0===i?0:i)-(void 0===n?0:n));return a?s+u/a:u?1:s}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===n?n=o:s||-1===n||((i=o-1)-n+1>=t&&r.push([n,i]),n=-1)}return e[o-1]&&o-n>=t&&r.push([n,o-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var i=0;i<r;i+=1)t[e.charAt(i)]|=1<<r-i-1;return t}},function(e,t,r){var n=r(0);e.exports=function(e,t){return function e(t,r,i){if(r){var o=r.indexOf("."),a=r,s=null;-1!==o&&(a=r.slice(0,o),s=r.slice(o+1));var u=t[a];if(null!=u)if(s||"string"!=typeof u&&"number"!=typeof u)if(n(u))for(var l=0,c=u.length;l<c;l+=1)e(u[l],s,i);else s&&e(u,s,i);else i.push(u.toString())}else i.push(t);return i}(e,t,[])}}])},"7Xm5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultNetworkSettings={feeAddress:"bitcoincash:qp5x5tmxluwm62ny66zy9u4zuqvkmcv8sq2ceuxmwd",feeAddressSlp:"simpleledger:qp5x5tmxluwm62ny66zy9u4zuqvkmcv8sqxrj8nmsn",feeDivisor:500}},"88k+":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("Mpt7"),u=r("J66h"),l=r("moT7"),c=o(r("2Qfn")),f=a(r("kB5k"));t.MarketToken=function(){function e(e,t){this._offers=s.List(),this._receivedOfferListeners=[],this._tokenId=e,this._networkSettings=t,this._listenForOffers(),this._listenForCancels()}return e.create=function(t,r){return n(this,void 0,void 0,function(){var n;return i(this,function(i){switch(i.label){case 0:return[4,c.ready];case 1:return i.sent(),[4,(n=new e(t,r))._fetchOffers()];case 2:return i.sent(),[2,n]}})})},e.prototype._listenForOffers=function(){var e=this,t=u.Base64.encode(JSON.stringify({v:3,q:{find:{"in.b0":l.LOKAD_ID_BASE64,"in.b1":l.VERSION,"slp.valid":!0,"slp.detail.tokenIdHex":this._tokenId}}}));new EventSource("https://slpsocket.fountainhead.cash/s/"+t).onmessage=function(t){return e._receivedTx(t)}},e.prototype._listenForCancels=function(){var e=this,t=u.Base64.encode(JSON.stringify({v:3,q:{find:{"in.b0":{$ne:l.LOKAD_ID_BASE64},"in.b1":{$ne:l.VERSION},"in.b2":{op:0},"slp.valid":!0,"slp.detail.tokenIdHex":this._tokenId}}}));new EventSource("https://slpsocket.fountainhead.cash/s/"+t).onmessage=function(t){return e._receivedTx(t)}},e.prototype._receivedTx=function(t){var r=JSON.parse(t.data);if(e.debug&&console.log(t),"mempool"==r.type){for(var n=function(e){if(i._offers=i._offers.filter(function(t){return-1==e.in.findIndex(function(e){return t.utxoEntry.txid==e.e.h&&t.utxoEntry.vout==e.e.i})}),void 0===i._findExchInput(e))return"continue";var t=i._transformTx(e);if(void 0===t)return"continue";i._offers=i._offers.push(t)},i=this,o=0,a=r.data;o<a.length;o++)n(a[o]);this._offers=this._offers.sortBy(function(e){return e.pricePerToken}),this._receivedOfferListeners.forEach(function(e){return e()})}},e.prototype._fetchOffers=function(){return n(this,void 0,void 0,function(){var e,t,r,n=this;return i(this,function(i){switch(i.label){case 0:return e=u.Base64.encode(JSON.stringify({v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":l.LOKAD_ID_BASE64,"in.b1":l.VERSION,"slp.valid":!0,"slp.detail.tokenIdHex":this._tokenId}},{$addFields:{utxoId:{$concat:["$tx.h",":1"]}}},{$lookup:{from:"utxos",localField:"utxoId",foreignField:"utxo",as:"foundUtxo"}},{$match:{foundUtxo:{$ne:[]}}}]}})),[4,fetch("https://slpdb.fountainhead.cash/q/"+e)];case 1:return[4,i.sent().json()];case 2:return t=i.sent(),r=t.u.concat(t.c),this._offers=s.List(r).flatMap(function(e){var t=n._transformTx(e);return void 0===t?s.List.of():s.List.of(t)}).sortBy(function(e){return e.pricePerToken.toNumber()}),[2]}})})},e.prototype._findExchInput=function(e){var t=e.in.filter(function(e){return e.b0==l.LOKAD_ID_BASE64&&"object"==typeof e.b1&&e.b1.op==l.VERSION.op});if(0!=t.length)return t[0]},e.prototype._transformTx=function(e){var t=new f.default("10").pow(e.slp.detail.decimals),r=this._findExchInput(e);if(void 0!==r&&r.b2&&r.b3&&r.b4)try{var n={bchSatoshis:e.out[1].e.v,address:e.out[1].e.a,slpAmount:e.slp.detail.outputs[0].amount},i=l.decodePrice(e.slp.detail.decimals,{power:r.b2,price:r.b3}),o={timestamp:e.blk&&e.blk.t,utxoEntry:{txid:e.tx.h,vout:1,satoshis:new f.default(n.bchSatoshis),address:n.address},pricePerToken:i.pricePerToken,scriptPrice:i.scriptPrice,sellAmountToken:new f.default(n.slpAmount),receivingAddress:l.decodeAddress(r.b4),expectedAddress:""};if(o.expectedAddress=c.advancedTradeOfferAddress(t,{tokenId:e.slp.detail.tokenIdHex,sellAmountToken:o.sellAmountToken,pricePerToken:o.pricePerToken,receivingAddress:o.receivingAddress,feeAddress:this._networkSettings.feeAddress,feeDivisor:new f.default(this._networkSettings.feeDivisor)}),o.expectedAddress!=o.utxoEntry.address)return;return o}catch(a){return}},e.prototype.offers=function(){return this._offers},e.prototype.tokenId=function(){return this._tokenId},e.prototype.addReceivedOfferListener=function(e){this._receivedOfferListeners.push(e)},e.debug=!1,e}()},Cchj:function(e,t,r){"use strict";var n=r("O2hg").validate,i={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};e.exports={encode:function(e){n(e instanceof Uint8Array,"Invalid data: "+e+".");for(var t="",r=0;r<e.length;++r){var i=e[r];n(0<=i&&i<32,"Invalid value: "+i+"."),t+="qpzry9x8gf2tvdw0s3jn54khce6mua7l"[i]}return t},decode:function(e){n("string"==typeof e,"Invalid base32-encoded string: "+e+".");for(var t=new Uint8Array(e.length),r=0;r<e.length;++r){var o=e[r];n(o in i,"Invalid value: "+o+"."),t[r]=i[o]}return t}}},MxGg:function(e,t,r){"use strict";var n=r("O2hg").validate;e.exports=function(e,t,r,i){for(var o=i?Math.floor(e.length*t/r):Math.ceil(e.length*t/r),a=(1<<r)-1,s=new Uint8Array(o),u=0,l=0,c=0,f=0;f<e.length;++f){var h=e[f];for(n(0<=h&&h>>t==0,"Invalid value: "+h+"."),l=l<<t|h,c+=t;c>=r;)s[u]=l>>(c-=r)&a,++u}return i?n(c<t&&0==(l<<r-c&a),"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):c>0&&(s[u]=l<<r-c&a,++u),s}},O2hg:function(e,t,r){"use strict";function n(e){var t=new Error;this.name=t.name="ValidationError",this.message=t.message=e,this.stack=t.stack}n.prototype=Object.create(Error.prototype),e.exports={ValidationError:n,validate:function(e,t){if(!e)throw new n(t)}}},Rkdt:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("uGzR")),n(r("88k+")),n(r("7Xm5"))},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},dAlA:function(e,t,r){(function(e){var r,n=function(e){"use strict";var t=1e7,r=7,i=9007199254740992,o=f(i),a=Math.log(i);function s(e,t){return void 0===e?s[0]:void 0!==t?10==+t?H(e):U(e,t):H(e)}function u(e,t){this.value=e,this.sign=t,this.isSmall=!1}function l(e){this.value=e,this.sign=e<0,this.isSmall=!0}function c(e){return-i<e&&e<i}function f(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function h(e){p(e);var r=e.length;if(r<4&&A(e,o)<0)switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function p(e){for(var t=e.length;0===e[--t];);e.length=t+1}function d(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function v(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,r){var n,i,o=e.length,a=r.length,s=new Array(o),u=0,l=t;for(i=0;i<a;i++)s[i]=(n=e[i]+r[i]+u)-(u=n>=l?1:0)*l;for(;i<o;)n=e[i]+u,s[i++]=n-(u=n===l?1:0)*l;return u>0&&s.push(u),s}function g(e,t){return e.length>=t.length?y(e,t):y(t,e)}function m(e,r){var n,i,o=e.length,a=new Array(o),s=t;for(i=0;i<o;i++)n=e[i]-s+r,r=Math.floor(n/s),a[i]=n-r*s,r+=1;for(;r>0;)a[i++]=r%s,r=Math.floor(r/s);return a}function b(e,r){var n,i,o=e.length,a=r.length,s=new Array(o),u=0,l=t;for(n=0;n<a;n++)(i=e[n]-u-r[n])<0?(i+=l,u=1):u=0,s[n]=i;for(n=a;n<o;n++){if(!((i=e[n]-u)<0)){s[n++]=i;break}s[n]=i+=l}for(;n<o;n++)s[n]=e[n];return p(s),s}function w(e,r,n){var i,o,a=e.length,s=new Array(a),c=-r,f=t;for(i=0;i<a;i++)o=e[i]+c,c=Math.floor(o/f),s[i]=(o%=f)<0?o+f:o;return"number"==typeof(s=h(s))?(n&&(s=-s),new l(s)):new u(s,n)}function k(e,r){var n,i,o,a,s=e.length,u=r.length,l=d(s+u),c=t;for(o=0;o<s;++o){a=e[o];for(var f=0;f<u;++f)n=a*r[f]+l[o+f],i=Math.floor(n/c),l[o+f]=n-i*c,l[o+f+1]+=i}return p(l),l}function O(e,r){var n,i,o=e.length,a=new Array(o),s=t,u=0;for(i=0;i<o;i++)n=e[i]*r+u,u=Math.floor(n/s),a[i]=n-u*s;for(;u>0;)a[i++]=u%s,u=Math.floor(u/s);return a}function S(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function _(e,r,n){return new u(e<t?O(r,e):k(r,f(e)),n)}function x(e){var r,n,i,o,a=e.length,s=d(a+a),u=t;for(i=0;i<a;i++){n=0-(o=e[i])*o;for(var l=i;l<a;l++)r=o*e[l]*2+s[i+l]+n,n=Math.floor(r/u),s[i+l]=r-n*u;s[i+a]=n}return p(s),s}function M(e,r){var n,i,o,a,s=e.length,u=d(s),l=t;for(o=0,n=s-1;n>=0;--n)o=(a=o*l+e[n])-(i=v(a/r))*r,u[n]=0|i;return[u,0|o]}function T(e,r){var n,i,o=H(r),a=e.value,c=o.value;if(0===c)throw new Error("Cannot divide by zero");if(e.isSmall)return o.isSmall?[new l(v(a/c)),new l(a%c)]:[s[0],e];if(o.isSmall){if(1===c)return[e,s[0]];if(-1==c)return[e.negate(),s[0]];var y=Math.abs(c);if(y<t){i=h((n=M(a,y))[0]);var g=n[1];return e.sign&&(g=-g),"number"==typeof i?(e.sign!==o.sign&&(i=-i),[new l(i),new l(g)]):[new u(i,e.sign!==o.sign),new l(g)]}c=f(y)}var m=A(a,c);if(-1===m)return[s[0],e];if(0===m)return[s[e.sign===o.sign?1:-1],s[0]];n=a.length+c.length<=200?function(e,r){var n,i,o,a,s,u,l,c=e.length,f=r.length,p=t,v=d(r.length),y=r[f-1],g=Math.ceil(p/(2*y)),m=O(e,g),b=O(r,g);for(m.length<=c&&m.push(0),b.push(0),y=b[f-1],i=c-f;i>=0;i--){for(n=p-1,m[i+f]!==y&&(n=Math.floor((m[i+f]*p+m[i+f-1])/y)),o=0,a=0,u=b.length,s=0;s<u;s++)o+=n*b[s],l=Math.floor(o/p),a+=m[i+s]-(o-l*p),o=l,a<0?(m[i+s]=a+p,a=-1):(m[i+s]=a,a=0);for(;0!==a;){for(n-=1,o=0,s=0;s<u;s++)(o+=m[i+s]-p+b[s])<0?(m[i+s]=o+p,o=0):(m[i+s]=o,o=1);a+=o}v[i]=n}return m=M(m,g)[0],[h(v),h(m)]}(a,c):function(e,r){for(var n,i,o,a,s=e.length,u=r.length,l=[],c=[],f=t;s;)if(c.unshift(e[--s]),p(c),A(c,r)<0)l.push(0);else{o=c[(i=c.length)-1]*f+c[i-2],i>u&&(o=(o+1)*f),n=Math.ceil(o/(r[u-1]*f+r[u-2]));do{if(A(a=O(r,n),c)<=0)break;n--}while(n);l.push(n),c=b(c,a)}return l.reverse(),[h(l),h(c)]}(a,c);var w=e.sign!==o.sign,k=n[1],S=e.sign;return"number"==typeof(i=n[0])?(w&&(i=-i),i=new l(i)):i=new u(i,w),"number"==typeof k?(S&&(k=-k),k=new l(k)):k=new u(k,S),[i,k]}function A(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function I(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function $(e,t){for(var r,i,o,a=e.prev(),u=a,l=0;u.isEven();)u=u.divide(2),l++;e:for(i=0;i<t.length;i++)if(!e.lesser(t[i])&&!(o=n(t[i]).modPow(u,e)).equals(s[1])&&!o.equals(a)){for(r=l-1;0!=r;r--){if((o=o.square().mod(e)).isUnit())return!1;if(o.equals(a))continue e}return!1}return!0}u.prototype=Object.create(s.prototype),l.prototype=Object.create(s.prototype),u.prototype.add=function(e){var t=H(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return new u(t.isSmall?m(r,Math.abs(n)):g(r,n),this.sign)},u.prototype.plus=u.prototype.add,l.prototype.add=function(e){var t=H(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(c(r+n))return new l(r+n);n=f(Math.abs(n))}return new u(m(n,Math.abs(r)),r<0)},l.prototype.plus=l.prototype.add,u.prototype.subtract=function(e){var t=H(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,n=t.value;return t.isSmall?w(r,Math.abs(n),this.sign):function(e,t,r){var n;return A(e,t)>=0?n=b(e,t):(n=b(t,e),r=!r),"number"==typeof(n=h(n))?(r&&(n=-n),new l(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(e){var t=H(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new l(r-n):w(n,Math.abs(r),r>=0)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},l.prototype.negate=function(){var e=this.sign,t=new l(-this.value);return t.sign=!e,t},u.prototype.abs=function(){return new u(this.value,!1)},l.prototype.abs=function(){return new l(Math.abs(this.value))},u.prototype.multiply=function(e){var r,n,i,o=H(e),a=this.value,l=o.value,c=this.sign!==o.sign;if(o.isSmall){if(0===l)return s[0];if(1===l)return this;if(-1===l)return this.negate();if((r=Math.abs(l))<t)return new u(O(a,r),c);l=f(r)}return-.012*(n=a.length)-.012*(i=l.length)+15e-6*n*i>0?new u(function e(t,r){var n=Math.max(t.length,r.length);if(n<=30)return k(t,r);n=Math.ceil(n/2);var i=t.slice(n),o=t.slice(0,n),a=r.slice(n),s=r.slice(0,n),u=e(o,s),l=e(i,a),c=e(g(o,i),g(s,a)),f=g(g(u,S(b(b(c,u),l),n)),S(l,2*n));return p(f),f}(a,l),c):new u(k(a,l),c)},u.prototype.times=u.prototype.multiply,l.prototype._multiplyBySmall=function(e){return c(e.value*this.value)?new l(e.value*this.value):_(Math.abs(e.value),f(Math.abs(this.value)),this.sign!==e.sign)},u.prototype._multiplyBySmall=function(e){return 0===e.value?s[0]:1===e.value?this:-1===e.value?this.negate():_(Math.abs(e.value),this.value,this.sign!==e.sign)},l.prototype.times=l.prototype.multiply=function(e){return H(e)._multiplyBySmall(this)},u.prototype.square=function(){return new u(x(this.value),!1)},l.prototype.square=function(){var e=this.value*this.value;return c(e)?new l(e):new u(x(f(Math.abs(this.value))),!1)},l.prototype.divmod=u.prototype.divmod=function(e){var t=T(this,e);return{quotient:t[0],remainder:t[1]}},l.prototype.over=l.prototype.divide=u.prototype.over=u.prototype.divide=function(e){return T(this,e)[0]},l.prototype.remainder=l.prototype.mod=u.prototype.remainder=u.prototype.mod=function(e){return T(this,e)[1]},u.prototype.pow=function(e){var t,r,n,i=H(e),o=this.value,a=i.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&c(t=Math.pow(o,a)))return new l(v(t));for(r=this,n=s[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},l.prototype.pow=u.prototype.pow,l.prototype.modPow=u.prototype.modPow=function(e,t){if(e=H(e),(t=H(t)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=s[1],n=this.mod(t);e.isPositive();){if(n.isZero())return s[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},u.prototype.compareAbs=function(e){var t=H(e);return t.isSmall?1:A(this.value,t.value)},l.prototype.compareAbs=function(e){var t=H(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},u.prototype.compareTo=u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=H(e);return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:A(this.value,t.value)*(this.sign?-1:1)},l.prototype.compareTo=l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=H(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals=function(e){return 0===this.compare(e)},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=function(e){return 0!==this.compare(e)},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater=function(e){return this.compare(e)>0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser=function(e){return this.compare(e)<0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},u.prototype.isEven=function(){return 0==(1&this.value[0])},l.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},l.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isPositive=function(){return!this.sign},l.prototype.isPositive=function(){return this.value>0},u.prototype.isNegative=function(){return this.sign},l.prototype.isNegative=function(){return this.value<0},u.prototype.isUnit=function(){return!1},l.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isZero=function(){return!1},l.prototype.isZero=function(){return 0===this.value},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy=function(e){var t=H(e),r=t.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(t).equals(s[0])))},l.prototype.isPrime=u.prototype.isPrime=function(e){var t=I(this);if(void 0!==t)return t;var r=this.abs(),i=r.bitLength();if(i<=64)return $(r,[2,325,9375,28178,450775,9780504,1795265022]);for(var o=Math.log(2)*i,a=Math.ceil(!0===e?2*Math.pow(o,2):o),s=[],u=0;u<a;u++)s.push(n(u+2));return $(r,s)},l.prototype.isProbablePrime=u.prototype.isProbablePrime=function(e){var t=I(this);if(void 0!==t)return t;for(var r=this.abs(),i=void 0===e?5:e,o=[],a=0;a<i;a++)o.push(n.randBetween(2,r.minus(2)));return $(r,o)},l.prototype.modInv=u.prototype.modInv=function(e){for(var t,r,i,o=n.zero,a=n.one,s=H(e),u=this.abs();!u.equals(n.zero);)t=s.divide(u),r=o,i=s,o=a,s=u,a=r.subtract(t.multiply(a)),u=i.subtract(t.multiply(u));if(!s.equals(1))throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(e)),this.isNegative()?o.negate():o},u.prototype.next=function(){var e=this.value;return this.sign?w(e,1,this.sign):new u(m(e,1),this.sign)},l.prototype.next=function(){var e=this.value;return e+1<i?new l(e+1):new u(o,!1)},u.prototype.prev=function(){var e=this.value;return this.sign?new u(m(e,1),!0):w(e,1,this.sign)},l.prototype.prev=function(){var e=this.value;return e-1>-i?new l(e-1):new u(o,!0)};for(var P=[1];2*P[P.length-1]<=t;)P.push(2*P[P.length-1]);var E=P.length,L=P[E-1];function q(e){return("number"==typeof e||"string"==typeof e)&&+Math.abs(e)<=t||e instanceof u&&e.value.length<=1}function N(e,t,r){t=H(t);for(var i=e.isNegative(),o=t.isNegative(),a=i?e.not():e,s=o?t.not():t,u=0,l=0,c=null,f=null,h=[];!a.isZero()||!s.isZero();)u=(c=T(a,L))[1].toJSNumber(),i&&(u=L-1-u),l=(f=T(s,L))[1].toJSNumber(),o&&(l=L-1-l),a=c[0],s=f[0],h.push(r(u,l));for(var p=0!==r(i?1:0,o?1:0)?n(-1):n(0),d=h.length-1;d>=0;d-=1)p=p.multiply(L).add(n(h[d]));return p}l.prototype.shiftLeft=u.prototype.shiftLeft=function(e){if(!q(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftRight(-e);var t=this;if(t.isZero())return t;for(;e>=E;)t=t.multiply(L),e-=E-1;return t.multiply(P[e])},l.prototype.shiftRight=u.prototype.shiftRight=function(e){var t;if(!q(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftLeft(-e);for(var r=this;e>=E;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=T(r,L))[1].isNegative()?t[0].prev():t[0],e-=E-1}return(t=T(r,P[e]))[1].isNegative()?t[0].prev():t[0]},l.prototype.not=u.prototype.not=function(){return this.negate().prev()},l.prototype.and=u.prototype.and=function(e){return N(this,e,function(e,t){return e&t})},l.prototype.or=u.prototype.or=function(e){return N(this,e,function(e,t){return e|t})},l.prototype.xor=u.prototype.xor=function(e){return N(this,e,function(e,t){return e^t})};var j=1<<30,C=(t&-t)*(t&-t)|j;function D(e){var r=e.value,n="number"==typeof r?r|j:r[0]+r[1]*t|C;return n&-n}function z(e,t){return e=H(e),t=H(t),e.greater(t)?e:t}function B(e,t){return e=H(e),t=H(t),e.lesser(t)?e:t}function R(e,t){if(e=H(e).abs(),t=H(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=s[1];e.isEven()&&t.isEven();)r=Math.min(D(e),D(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(D(e));do{for(;t.isEven();)t=t.divide(D(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}l.prototype.bitLength=u.prototype.bitLength=function(){var e=this;return e.compareTo(n(0))<0&&(e=e.negate().subtract(n(1))),0===e.compareTo(n(0))?n(0):n(function e(t,r){if(r.compareTo(t)<=0){var i=e(t,r.square(r)),o=i.p,a=i.e,s=o.multiply(r);return s.compareTo(t)<=0?{p:s,e:2*a+1}:{p:o,e:2*a}}return{p:n(1),e:0}}(e,n(2)).e).add(n(1))};var U=function(e,t){for(var r=e.length,n=Math.abs(t),i=0;i<r;i++)if("-"!==(c=e[i].toLowerCase())&&/[a-z0-9]/.test(c)){if(/[0-9]/.test(c)&&+c>=n){if("1"===c&&1===n)continue;throw new Error(c+" is not a valid digit in base "+t+".")}if(c.charCodeAt(0)-87>=n)throw new Error(c+" is not a valid digit in base "+t+".")}if(2<=t&&t<=36&&r<=a/Math.log(t)){var o=parseInt(e,t);if(isNaN(o))throw new Error(c+" is not a valid digit in base "+t+".");return new l(parseInt(e,t))}t=H(t);var s=[],u="-"===e[0];for(i=u?1:0;i<e.length;i++){var c,f=(c=e[i].toLowerCase()).charCodeAt(0);if(48<=f&&f<=57)s.push(H(c));else if(97<=f&&f<=122)s.push(H(c.charCodeAt(0)-87));else{if("<"!==c)throw new Error(c+" is not a valid character");var h=i;do{i++}while(">"!==e[i]);s.push(H(e.slice(h+1,i)))}}return J(s,t,u)};function J(e,t,r){var n,i=s[0],o=s[1];for(n=e.length-1;n>=0;n--)i=i.add(e[n].times(o)),o=o.times(t);return r?i.negate():i}function V(e){return e<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e):"<"+e+">"}function F(e,t){if((t=n(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+e-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var i=!1;if(e.isNegative()&&t.isPositive()&&(i=!0,e=e.abs()),t.equals(1))return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+e)).map(Number.prototype.valueOf,1),isNegative:i};for(var o,a=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){o=s.divmod(t),s=o.quotient;var u=o.remainder;u.isNegative()&&(u=t.minus(u).abs(),s=s.next()),a.push(u.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:i}}function K(e,t){var r=F(e,t);return(r.isNegative?"-":"")+r.value.map(V).join("")}function Z(e){if(c(+e)){var t=+e;if(t===v(t))return new l(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var i=e.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var o=i[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==v(o)||!c(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var a=i[0],s=a.indexOf(".");if(s>=0&&(o-=a.length-s-1,a=a.slice(0,s)+a.slice(s+1)),o<0)throw new Error("Cannot include negative exponent part for integers");e=a+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);for(var f=[],h=e.length,d=r,y=h-d;h>0;)f.push(+e.slice(y,h)),(y-=d)<0&&(y=0),h-=d;return p(f),new u(f,n)}function H(e){return"number"==typeof e?function(e){if(c(e)){if(e!==v(e))throw new Error(e+" is not an integer.");return new l(e)}return Z(e.toString())}(e):"string"==typeof e?Z(e):e}u.prototype.toArray=function(e){return F(this,e)},l.prototype.toArray=function(e){return F(this,e)},u.prototype.toString=function(e){if(void 0===e&&(e=10),10!==e)return K(this,e);for(var t,r=this.value,n=r.length,i=String(r[--n]);--n>=0;)t=String(r[n]),i+="0000000".slice(t.length)+t;return(this.sign?"-":"")+i},l.prototype.toString=function(e){return void 0===e&&(e=10),10!=e?K(this,e):String(this.value)},u.prototype.toJSON=l.prototype.toJSON=function(){return this.toString()},u.prototype.toJSNumber=u.prototype.valueOf=function(){return parseInt(this.toString(),10)},l.prototype.toJSNumber=l.prototype.valueOf=function(){return this.value};for(var Q=0;Q<1e3;Q++)s[Q]=new l(Q),Q>0&&(s[-Q]=new l(-Q));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=z,s.min=B,s.gcd=R,s.lcm=function(e,t){return e=H(e).abs(),t=H(t).abs(),e.divide(R(e,t)).multiply(t)},s.isInstance=function(e){return e instanceof u||e instanceof l},s.randBetween=function(e,r){var n=B(e=H(e),r=H(r)),i=z(e,r).subtract(n).add(1);if(i.isSmall)return n.add(Math.floor(Math.random()*i));for(var o=[],a=!0,s=i.value.length-1;s>=0;s--){var c=a?i.value[s]:t,f=v(Math.random()*c);o.unshift(f),f<c&&(a=!1)}return o=h(o),n.add("number"==typeof o?new l(o):new u(o,!1))},s.fromArray=function(e,t,r){return J(e.map(H),H(t||10),r)},s}();e.hasOwnProperty("exports")&&(e.exports=n),void 0===(r=(function(){return n}).apply(t,[]))||(e.exports=r)}).call(this,r("YuTi")(e))},llEn:function(e,t,r){"use strict";var n=r("Cchj"),i=r("dAlA"),o=r("MxGg"),a=r("O2hg"),s=a.validate,u=a.ValidationError,l=["bitcoincash","bchtest","bchreg"];function c(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;++r)t[r]=31&e[r].charCodeAt(0);return t}function f(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function h(e){for(var t=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=i(1),n=0;n<e.length;++n){var o=e[n],a=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(o);for(var s=0;s<t.length;++s)a.shiftRight(s).and(1).equals(1)&&(r=r.xor(t[s]))}return r.xor(1)}function p(e){return e===e.toLowerCase()||e===e.toUpperCase()}e.exports={encode:function(e,t,r){s("string"==typeof e&&function(e){return p(e)&&-1!==l.indexOf(e.toLowerCase())}(e),"Invalid prefix: "+e+"."),s("string"==typeof t,"Invalid type: "+t+"."),s(r instanceof Uint8Array,"Invalid hash: "+r+".");var i,a=f(c(e),new Uint8Array(1)),d=function(e){switch(e){case"P2PKH":return 0;case"P2SH":return 8;default:throw new u("Invalid type: "+e+".")}}(t)+function(e){switch(8*e.length){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new u("Invalid hash size: "+e.length+".")}}(r),v=(i=f(new Uint8Array([d]),r),o(i,8,5)),y=f(f(a,v),new Uint8Array(8)),g=f(v,function(e){for(var t=new Uint8Array(8),r=0;r<8;++r)t[7-r]=e.and(31).toJSNumber(),e=e.shiftRight(5);return t}(h(y)));return e+":"+n.encode(g)},decode:function(e){s("string"==typeof e&&p(e),"Invalid address: "+e+".");var t=e.toLowerCase().split(":");s(2===t.length,"Missing prefix: "+e+".");var r=t[0],i=n.decode(t[1]);s(function(e,t){var r=f(c(e),new Uint8Array(1));return h(f(r,t)).equals(0)}(r,i),"Invalid checksum: "+e+".");var a,l=(a=i.subarray(0,-8),o(a,5,8,!0)),d=l[0],v=l.subarray(1);return s(function(e){switch(7&e){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}(d)===8*v.length,"Invalid hash size: "+e+"."),{prefix:r,type:function(e){switch(120&e){case 0:return"P2PKH";case 8:return"P2SH";default:throw new u("Invalid address type in version byte: "+e+".")}}(d),hash:v}},ValidationError:u}},moT7:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("J66h"),a=n(r("llEn")),s=i(r("kB5k"));function u(e){return Uint8Array.from(atob(e),function(e){return e.charCodeAt(0)})}t.LOKAD_ID_BASE64=o.Base64.encode("EXCH"),t.VERSION={op:82},t.decodePrice=function(e,t){var r=u(t.power),n=u(t.price),i=2==r.length&&1==r[1],o=new s.default(new DataView(n.buffer).getUint32(0,!1)),a=i?new s.default("1").div(o):o;return{pricePerToken:new s.default("10").pow(e).times(a),scriptPrice:o}},t.decodeAddress=function(e){return a.encode("bitcoincash","P2PKH",u(e))}},uGzR:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("Mpt7"),s=r("J66h"),u=r("moT7"),l=r("7Xm5"),c=o(r("kB5k")),f=o(r("/+cc")),h={shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["symbol","name"]};t.MarketOverview=function(){function e(){this._tokenDetails=a.Map(),this._tokenLastTrades=a.Map(),this._tokenVolumes=a.Map(),this._tokenPrices=a.Map(),this._tokenPriceIncreases=a.Map(),this._tokenOverview=a.Map(),this._fuse=new f.default([],h)}return e.create=function(){return n(this,void 0,void 0,function(){var t,r,n,o;return i(this,function(i){switch(i.label){case 0:t=new e,r=[t._fetchDetails(),t._fetchTokens(),t._fetchPrice24h(),t._fetchVolume24h()],n=0,o=r,i.label=1;case 1:return n<o.length?[4,o[n]]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return t._updatePriceIncrease(),t._updateOverview(),[2,t]}})})},e.prototype._fetchDetails=function(){return n(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,fetch("https://rest.bitcoin.com/v2/slp/list")];case 1:return[4,t.sent().json()];case 2:return e=t.sent(),this._tokenDetails=a.Map(e.map(function(e){return[e.id,e]})),[2]}})})},e.prototype._fetchTokens=function(){return n(this,void 0,void 0,function(){var e,t,r;return i(this,function(n){switch(n.label){case 0:return e=s.Base64.encode(JSON.stringify({v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION,"slp.valid":!0}},{$addFields:{utxoId:{$concat:["$tx.h",":1"]}}},{$lookup:{from:"utxos",localField:"utxoId",foreignField:"utxo",as:"foundUtxo"}},{$addFields:{exchInput:{$arrayElemAt:[{$filter:{input:"$in",as:"input",cond:{$and:[{$eq:["$$input.b0",u.LOKAD_ID_BASE64]},{$eq:["$$input.b1",u.VERSION]}]}}},0]},hasUtxo:{$size:"$foundUtxo"}}},{$sort:{hasUtxo:-1,"blk.t":-1}},{$group:{_id:"$slp.detail.tokenIdHex",decimals:{$first:"$slp.detail.decimals"},numberOfOpenOffers:{$sum:"$hasUtxo"},numberOfClosedOffers:{$sum:{$subtract:[1,"$hasUtxo"]}},lastTrade:{$first:{timestamp:"$blk.t",power:"$exchInput.b2",price:"$exchInput.b3",isAccepted:{$ne:["$foundUtxo",[]]}}}}}]}})),[4,fetch("https://slpdb.fountainhead.cash/q/"+e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),r=a.List.of(t.u,t.c),this._tokenLastTrades=r.map(function(e){return a.Map(e.map(function(e){return[e._id,{numberOfOpenOffers:e.numberOfOpenOffers,numberOfClosedOffers:e.numberOfClosedOffers,lastTrade:{pricePerToken:u.decodePrice(e.decimals,e.lastTrade).pricePerToken,timestamp:e.lastTrade.timestamp,isAccepted:e.lastTrade.isAccepted}}]}))}).reduce(function(e,t){return a.Map(a.Set(e.keySeq().concat(t.keySeq())).map(function(r){var n=e.get(r),i=t.get(r),o=n||i;if(void 0!==n&&void 0!==i&&(o={numberOfClosedOffers:n.numberOfClosedOffers+i.numberOfClosedOffers,numberOfOpenOffers:n.numberOfOpenOffers+i.numberOfOpenOffers,lastTrade:void 0===n.lastTrade.timestamp?n.lastTrade:i.lastTrade}),void 0===o)throw"Impossible";return[r,o]}))}),[2]}})})},e.prototype._fetchVolume24h=function(){return n(this,void 0,void 0,function(){var e,t,r,n;return i(this,function(i){switch(i.label){case 0:return e={v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION,"out.e.a":l.defaultNetworkSettings.feeAddressSlp,"slp.valid":!0,$and:[{$or:[{"slp.detail.outputs":{$size:2}},{"slp.detail.outputs":{$size:3}}]},{$or:[{blk:{$exists:!1}},{"blk.t":{$gt:(new Date).getTime()/1e3-86400}}]}]}},{$addFields:{tradedTokens:{$arrayElemAt:["$slp.detail.outputs",-1]},tradedSatoshis:{$arrayElemAt:["$out",{$subtract:[{$size:"$slp.detail.outputs"},1]}]}}},{$project:{txid:"$tx.h",tokenId:"$slp.detail.tokenIdHex",tradedTokens:{$toDecimal:"$tradedTokens.amount"},tradedSatoshis:"$tradedSatoshis.e.v",slp:"$slp"}},{$group:{_id:"$tokenId",volumeTokens:{$sum:"$tradedTokens"},volumeSatoshis:{$sum:"$tradedSatoshis"},numberOfTrades:{$sum:1},decimals:{$first:"$slp.detail.decimals"}}}]}},t=s.Base64.encode(JSON.stringify(e)),[4,fetch("https://slpdb.fountainhead.cash/q/"+t)];case 1:return[4,i.sent().json()];case 2:return r=i.sent(),n=a.List.of(r.u,r.c),this._tokenVolumes=n.map(function(e){return a.Map(e.map(function(e){return[e._id,{last24h:{numberOfTrades:e.numberOfTrades,volumeSatoshis:new c.default(e.volumeSatoshis),volumeTokens:new c.default(e.volumeTokens)}}]}))}).reduce(function(e,t){return a.Map(a.Set(e.keySeq().concat(t.keySeq())).map(function(r){var n=e.get(r),i=t.get(r),o=n||i;if(void 0!==n&&void 0!==i&&(o={last24h:{numberOfTrades:n.last24h.numberOfTrades+i.last24h.numberOfTrades,volumeTokens:n.last24h.volumeTokens.plus(i.last24h.volumeTokens),volumeSatoshis:n.last24h.volumeSatoshis.plus(i.last24h.volumeSatoshis)}}),void 0===o)throw"Impossible";return[r,o]}))}),[2]}})})},e.prototype._fetchPrice24h=function(){return n(this,void 0,void 0,function(){var e,t,r;return i(this,function(n){switch(n.label){case 0:return e={v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION,"out.e.a":l.defaultNetworkSettings.feeAddressSlp,"slp.valid":!0,$or:[{"slp.detail.outputs":{$size:2}},{"slp.detail.outputs":{$size:3}}],"blk.t":{$lt:(new Date).getTime()/1e3-86400}}},{$sort:{"blk.t":-1}},{$unwind:"$in"},{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION}},{$group:{_id:"$slp.detail.tokenIdHex",price:{$first:"$in.b3"},power:{$first:"$in.b2"},decimals:{$first:"$slp.detail.decimals"}}}]}},t=s.Base64.encode(JSON.stringify(e)),[4,fetch("https://slpdb.fountainhead.cash/q/"+t)];case 1:return[4,n.sent().json()];case 2:return r=n.sent(),this._tokenPrices=a.Map(r.c.map(function(e){return[e._id,{last24h:{pricePerToken:u.decodePrice(e.decimals,e).pricePerToken}}]})),[2]}})})},e.prototype._updatePriceIncrease=function(){var e=this;this._tokenPriceIncreases=a.Map(a.Set(this._tokenLastTrades.keySeq().concat(this._tokenPrices.keySeq())).map(function(t){var r=e._tokenLastTrades.get(t),n=e._tokenPrices.get(t);return[t,void 0!==r&&void 0!==n?{last24h:{priceIncrease:r.lastTrade.pricePerToken.div(n.last24h.pricePerToken).minus("1")}}:{last24h:{priceIncrease:void 0!==n?new c.default(0):void 0}}]}))},e.prototype._updateOverview=function(){var e=this;this._tokenOverview=a.Map(this._tokenDetails.entrySeq().map(function(t){var r=t[0],n=t[1],i=e._tokenLastTrades.get(r),o=e._tokenVolumes.get(r),a=e._tokenPrices.get(r),s=e._tokenPriceIncreases.get(r);return[r,{tokenId:r,decimals:n.decimals,name:n.name,symbol:n.symbol,totalNumberOfOpenOffers:i?i.numberOfOpenOffers:0,totalNumberOfClosedOffers:i?i.numberOfClosedOffers:0,totalSupplyToken:new c.default(n.circulatingSupply),marketCapSatoshis:i?i.lastTrade.pricePerToken.times(n.circulatingSupply):void 0,lastTrade:{isAccepted:i?i.lastTrade.isAccepted:void 0,pricePerToken:i?i.lastTrade.pricePerToken:void 0,timestamp:i?i.lastTrade.timestamp:void 0},last24h:{numberOfTrades:o?o.last24h.numberOfTrades:0,volumeSatoshis:o?o.last24h.volumeSatoshis:new c.default(0),volumeTokens:o?o.last24h.volumeTokens:new c.default(0),pricePerToken:a?a.last24h.pricePerToken:void 0,priceIncrease:s?s.last24h.priceIncrease:void 0}}]})),this._fuse=new f.default(this._tokenOverview.valueSeq().toArray(),h)},e.prototype.tokenDetails=function(e){return this._tokenDetails.get(e)},e.prototype.tokens=function(e,t,r,n){var i;switch(void 0===n&&(n=!1),e){case"totalNumberOfOpenOffers":i=function(e){return e.totalNumberOfOpenOffers};break;case"totalNumberOfClosedOffers":i=function(e){return e.totalNumberOfClosedOffers};break;case"pricePerToken":i=function(e){return e.lastTrade.pricePerToken};break;case"marketCapSatoshis":i=function(e){return e.marketCapSatoshis};break;case"volumeTokens":i=function(e){return e.last24h.volumeTokens};break;case"volumeSatoshis":i=function(e){return e.last24h.volumeSatoshis};break;case"priceIncrease":i=function(e){return e.last24h.priceIncrease};break;default:throw"Unknown sort key: "+e}var o=n?1:-1;return this._tokenOverview.valueSeq().sortBy(function(e){var t=i(e);if(void 0!==t)return new c.default(t).times(o).toNumber()}).skip(t).take(r).toList()},e.prototype.searchTokens=function(e){var t=this._tokenOverview.get(e);return void 0!==t?a.List.of(t):a.List(this._fuse.search(e))},e}()},vTob:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r("2Vo4"),i=r("Cfvw"),o=r("IzEk"),a=r("lJxs"),s=r("Rkdt"),u=r("8Y7J");const l=(()=>{class e{constructor(){this.marketToken$=new n.a(null),this.marketOverview$=new n.a([]),this.marketOverviewToken$=new n.a(null),this.loadMarketOverviewToken=e=>{this.marketOverviewToken$.next(null),this.loadMarketOverviewQuery().pipe(Object(o.a)(1),Object(a.a)(t=>t.searchTokens(e).toArray())).subscribe(e=>{this.marketOverviewToken$.next(e[0])})},this.loadMarketOverview=(e,t,r)=>{r?this.loadMarketOverviewSearch(r):this.marketOverview$.pipe(Object(o.a)(1)).subscribe(r=>{r.length?this.loadMarketOverviewAll(e,t):this.loadMarketOverviewSmartInit(e,t)})},this.loadOffersAndStartListener=e=>{Object(i.a)(s.MarketToken.create(e,s.defaultNetworkSettings)).pipe(Object(o.a)(1)).subscribe(e=>{this.marketTokenRef=e,this.marketToken$.next(this.marketTokenRef),this.startMarketTokenListener()})},this.unsubscribeMarketTokenListener=()=>{this.marketTokenRef=null},this.getTop10GainersAndLosers=()=>this.loadMarketOverviewQuery().pipe(Object(o.a)(1),Object(a.a)(e=>({gainers:e.tokens("priceIncrease",0,10,!1).toArray(),losers:e.tokens("priceIncrease",0,10,!0).toArray()}))),this.loadMarketOverviewSearch=e=>{this.loadMarketOverviewQuery().pipe(Object(o.a)(1),Object(a.a)(t=>t.searchTokens(e).toArray())).subscribe(e=>{this.marketOverview$.next(e)})},this.loadMarketOverviewAll=(e,t)=>{this.loadMarketOverviewQuery().pipe(Object(o.a)(1),Object(a.a)(r=>r.tokens(e,0,100,t).toArray())).subscribe(e=>{this.marketOverview$.next(e)})},this.loadMarketOverviewSmartInit=(e,t)=>{this.loadMarketOverviewQuery().pipe(Object(o.a)(1),Object(a.a)(r=>r.tokens(e,0,20,t).toArray())).subscribe(r=>{this.marketOverview$.next(r),this.loadMarketOverviewSmartRemaining(e,t,r)})},this.loadMarketOverviewSmartRemaining=(e,t,r)=>{this.loadMarketOverviewQuery().pipe(Object(o.a)(1),Object(a.a)(r=>r.tokens(e,20,80,t).toArray())).subscribe(e=>{this.marketOverview$.next([...r,...e])})},this.loadMarketOverviewQuery=()=>Object(i.a)(s.MarketOverview.create()),this.startMarketTokenListener=()=>{this.marketTokenRef.addReceivedOfferListener(()=>{this.marketToken$.next(this.marketTokenRef)})}}get marketToken(){return this.marketToken$.asObservable()}get marketOverview(){return this.marketOverview$.asObservable()}get marketOverviewToken(){return this.marketOverviewToken$.asObservable()}}return e.ngInjectableDef=u.Pb({factory:function(){return new e},token:e,providedIn:"root"}),e})()}}]);