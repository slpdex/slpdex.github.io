(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5],{"/+cc":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,(function(t){return e[t]}).bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(2),i=r(8),a=r(0),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,u=r.threshold,c=void 0===u?.6:u,l=r.maxPatternLength,f=void 0===l?32:l,h=r.caseSensitive,p=void 0!==h&&h,d=r.tokenSeparator,v=void 0===d?/ +/g:d,y=r.findAllMatches,m=void 0!==y&&y,g=r.minMatchCharLength,b=void 0===g?1:g,w=r.id,k=void 0===w?null:w,O=r.keys,S=void 0===O?[]:O,_=r.shouldSort,x=void 0===_||_,M=r.getFn,T=void 0===M?i:M,A=r.sortFn,I=void 0===A?function(e,t){return e.score-t.score}:A,$=r.tokenize,P=void 0!==$&&$,E=r.matchAllTokens,L=void 0!==E&&E,q=r.includeMatches,N=void 0!==q&&q,j=r.includeScore,C=void 0!==j&&j,D=r.verbose,z=void 0!==D&&D;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:c,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:v,findAllMatches:m,minMatchCharLength:b,id:k,keys:S,includeMatches:N,includeScore:C,shouldSort:x,getFn:T,sortFn:I,verbose:z,tokenize:P,matchAllTokens:L},this.setCollection(t)}var t;return(t=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var r=this._prepareSearchers(e),n=this._search(r.tokenSearchers,r.fullSearcher),o=n.results;return this._computeScore(n.weights,o),this.options.shouldSort&&this._sort(o),t.limit&&"number"==typeof t.limit&&(o=o.slice(0,t.limit)),this._format(o)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,i=r.length;n<i;n+=1)t.push(new o(r[n],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},o=[];if("string"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:"",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},u=0,c=r.length;u<c;u+=1)for(var l=r[u],f=0,h=this.options.keys.length;f<h;f+=1){var p=this.options.keys[f];if("string"!=typeof p){if(s[p.name]={weight:1-p.weight||1},p.weight<=0||p.weight>1)throw new Error("Key weight has to be > 0 and <= 1");p=p.name}else s[p]={weight:1};this._analyze({key:p,value:this.options.getFn(l,p),record:l,index:u},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:"_analyze",value:function(e,t){var r=e.key,n=e.arrayIndex,o=void 0===n?-1:n,i=e.value,s=e.record,u=e.index,c=t.tokenSearchers,l=void 0===c?[]:c,f=t.fullSearcher,h=void 0===f?[]:f,p=t.resultMap,d=void 0===p?{}:p,v=t.results,y=void 0===v?[]:v;if(null!=i){var m=!1,g=-1,b=0;if("string"==typeof i){this._log("\nKey: ".concat(""===r?"-":r));var w=h.search(i);if(this._log('Full text: "'.concat(i,'", score: ').concat(w.score)),this.options.tokenize){for(var k=i.split(this.options.tokenSeparator),O=[],S=0;S<l.length;S+=1){var _=l[S];this._log('\nPattern: "'.concat(_.pattern,'"'));for(var x=!1,M=0;M<k.length;M+=1){var T=k[M],A=_.search(T),I={};A.isMatch?(I[T]=A.score,m=!0,x=!0,O.push(A.score)):(I[T]=1,this.options.matchAllTokens||O.push(1)),this._log('Token: "'.concat(T,'", score: ').concat(I[T]))}x&&(b+=1)}g=O[0];for(var $=O.length,P=1;P<$;P+=1)g+=O[P];this._log("Token score average:",g/=$)}var E=w.score;g>-1&&(E=(E+g)/2),this._log("Score average:",E);var L=!this.options.tokenize||!this.options.matchAllTokens||b>=l.length;if(this._log("\nCheck Matches: ".concat(L)),(m||w.isMatch)&&L){var q=d[u];q?q.output.push({key:r,arrayIndex:o,value:i,score:E,matchedIndices:w.matchedIndices}):(d[u]={item:s,output:[{key:r,arrayIndex:o,value:i,score:E,matchedIndices:w.matchedIndices}]},y.push(d[u]))}}else if(a(i))for(var N=0,j=i.length;N<j;N+=1)this._analyze({key:r,arrayIndex:N,value:i[N],record:s,index:u},{resultMap:d,results:y,tokenSearchers:l,fullSearcher:h})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var r=0,n=t.length;r<n;r+=1){for(var o=t[r].output,i=o.length,a=1,s=1,u=0;u<i;u+=1){var c=e?e[o[u].key].weight:1,l=(1===c?o[u].score:o[u].score||.001)*c;1!==c?s=Math.min(s,l):(o[u].nScore=l,a*=l)}t[r].score=1===s?a:s,this._log(t[r])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t})),r=null}var o=[];this.options.includeMatches&&o.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&o.push(function(e,t){t.score=e.score});for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var u={item:s.item},c=0,l=o.length;c<l;c+=1)o[c](s,u);t.push(u)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();e.exports=s},function(e,t,r){var n=r(3),o=r(4),i=r(7),a=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,u=r.threshold,c=void 0===u?.6:u,l=r.maxPatternLength,f=void 0===l?32:l,h=r.isCaseSensitive,p=void 0!==h&&h,d=r.tokenSeparator,v=void 0===d?/ +/g:d,y=r.findAllMatches,m=void 0!==y&&y,g=r.minMatchCharLength,b=void 0===g?1:g;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:c,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:v,findAllMatches:m,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=i(this.pattern))}var t;return(t=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options;if(this.pattern.length>t.maxPatternLength)return n(e,this.pattern,t.tokenSeparator);var r=this.options;return o(e,this.pattern,this.patternAlphabet,{location:r.location,distance:r.distance,threshold:r.threshold,findAllMatches:r.findAllMatches,minMatchCharLength:r.minMatchCharLength})}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();e.exports=a},function(e,t){var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(r,"\\$&").replace(n,"|")),i=e.match(o),a=!!i,s=[];if(a)for(var u=0,c=i.length;u<c;u+=1){var l=i[u];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){var n=r(5),o=r(6);e.exports=function(e,t,r,i){for(var a=i.location,s=i.distance,u=void 0===s?100:s,c=i.threshold,l=i.findAllMatches,f=void 0!==l&&l,h=i.minMatchCharLength,p=void 0===h?1:h,d=void 0===a?0:a,v=e.length,y=void 0===c?.6:c,m=e.indexOf(t,d),g=t.length,b=[],w=0;w<v;w+=1)b[w]=0;if(-1!==m){var k=n(t,{errors:0,currentLocation:m,expectedLocation:d,distance:u});if(y=Math.min(k,y),-1!==(m=e.lastIndexOf(t,d+g))){var O=n(t,{errors:0,currentLocation:m,expectedLocation:d,distance:u});y=Math.min(O,y)}}m=-1;for(var S=[],_=1,x=g+v,M=1<<g-1,T=0;T<g;T+=1){for(var A=0,I=x;A<I;)n(t,{errors:T,currentLocation:d+I,expectedLocation:d,distance:u})<=y?A=I:x=I,I=Math.floor((x-A)/2+A);x=I;var $=Math.max(1,d-I+1),P=f?v:Math.min(d+I,v)+g,E=Array(P+2);E[P+1]=(1<<T)-1;for(var L=P;L>=$;L-=1){var q=L-1,N=r[e.charAt(q)];if(N&&(b[q]=1),E[L]=(E[L+1]<<1|1)&N,0!==T&&(E[L]|=(S[L+1]|S[L])<<1|1|S[L+1]),E[L]&M&&(_=n(t,{errors:T,currentLocation:q,expectedLocation:d,distance:u}))<=y){if(y=_,(m=q)<=d)break;$=Math.max(1,2*d-m)}}if(n(t,{errors:T+1,currentLocation:d,expectedLocation:d,distance:u})>y)break;S=E}return{isMatch:m>=0,score:0===_?.001:_,matchedIndices:o(b,p)}}},function(e,t){e.exports=function(e,t){var r=t.errors,n=t.currentLocation,o=t.expectedLocation,i=t.distance,a=void 0===i?100:i,s=(void 0===r?0:r)/e.length,u=Math.abs((void 0===o?0:o)-(void 0===n?0:n));return a?s+u/a:u?1:s}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t,r){var n=r(0);e.exports=function(e,t){return function e(t,r,o){if(r){var i=r.indexOf("."),a=r,s=null;-1!==i&&(a=r.slice(0,i),s=r.slice(i+1));var u=t[a];if(null!=u)if(s||"string"!=typeof u&&"number"!=typeof u)if(n(u))for(var c=0,l=u.length;c<l;c+=1)e(u[c],s,o);else s&&e(u,s,o);else o.push(u.toString())}else o.push(t);return o}(e,t,[])}}])},"7Xm5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultNetworkSettings={feeAddress:"bitcoincash:qp5x5tmxluwm62ny66zy9u4zuqvkmcv8sq2ceuxmwd",feeAddressSlp:"simpleledger:qp5x5tmxluwm62ny66zy9u4zuqvkmcv8sqxrj8nmsn",feeDivisor:500}},"88k+":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r("Mpt7"),u=r("J66h"),c=r("moT7"),l=i(r("2Qfn")),f=a(r("kB5k"));t.MarketToken=function(){function e(e,t){this._offers=s.List(),this._receivedOfferListeners=[],this._tokenId=e,this._networkSettings=t,this._listenForOffers(),this._listenForCancels()}return e.create=function(t,r){return n(this,void 0,void 0,function(){var n;return o(this,function(o){switch(o.label){case 0:return[4,l.ready];case 1:return o.sent(),[4,(n=new e(t,r))._fetchOffers()];case 2:return o.sent(),[2,n]}})})},e.prototype._listenForOffers=function(){var e=this,t=u.Base64.encode(JSON.stringify({v:3,q:{find:{"in.b0":c.LOKAD_ID_BASE64,"in.b1":c.VERSION,"slp.valid":!0,"slp.detail.tokenIdHex":this._tokenId}}}));new EventSource("https://slpsocket.fountainhead.cash/s/"+t).onmessage=function(t){return e._receivedTx(t)}},e.prototype._listenForCancels=function(){var e=this,t=u.Base64.encode(JSON.stringify({v:3,q:{find:{"in.b0":{$ne:c.LOKAD_ID_BASE64},"in.b1":{$ne:c.VERSION},"in.b2":{op:0},"slp.valid":!0,"slp.detail.tokenIdHex":this._tokenId}}}));new EventSource("https://slpsocket.fountainhead.cash/s/"+t).onmessage=function(t){return e._receivedTx(t)}},e.prototype._receivedTx=function(t){var r=JSON.parse(t.data);if(e.debug&&console.log(t),"mempool"==r.type){for(var n=function(e){if(o._offers=o._offers.filter(function(t){return-1==e.in.findIndex(function(e){return t.utxoEntry.txid==e.e.h&&t.utxoEntry.vout==e.e.i})}),void 0===o._findExchInput(e))return"continue";var t=o._transformTx(e);if(void 0===t)return"continue";o._offers=o._offers.push(t)},o=this,i=0,a=r.data;i<a.length;i++)n(a[i]);this._offers=this._offers.sortBy(function(e){return e.pricePerToken}),this._receivedOfferListeners.forEach(function(e){return e()})}},e.prototype._fetchOffers=function(){return n(this,void 0,void 0,function(){var e,t,r,n=this;return o(this,function(o){switch(o.label){case 0:return e=u.Base64.encode(JSON.stringify({v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":c.LOKAD_ID_BASE64,"in.b1":c.VERSION,"slp.valid":!0,"slp.detail.tokenIdHex":this._tokenId}},{$addFields:{utxoId:{$concat:["$tx.h",":1"]}}},{$lookup:{from:"utxos",localField:"utxoId",foreignField:"utxo",as:"foundUtxo"}},{$match:{foundUtxo:{$ne:[]}}}]}})),[4,fetch("https://slpdb.fountainhead.cash/q/"+e)];case 1:return[4,o.sent().json()];case 2:return t=o.sent(),r=t.u.concat(t.c),this._offers=s.List(r).flatMap(function(e){var t=n._transformTx(e);return void 0===t?s.List.of():s.List.of(t)}).sortBy(function(e){return e.pricePerToken.toNumber()}),[2]}})})},e.prototype._findExchInput=function(e){var t=e.in.filter(function(e){return e.b0==c.LOKAD_ID_BASE64&&"object"==typeof e.b1&&e.b1.op==c.VERSION.op});if(0!=t.length)return t[0]},e.prototype._transformTx=function(e){var t=new f.default("10").pow(e.slp.detail.decimals),r=this._findExchInput(e);if(void 0!==r&&r.b2&&r.b3&&r.b4)try{var n={bchSatoshis:e.out[1].e.v,address:e.out[1].e.a,slpAmount:e.slp.detail.outputs[0].amount},o=c.decodePrice(e.slp.detail.decimals,{power:r.b2,price:r.b3}),i={timestamp:e.blk&&e.blk.t,utxoEntry:{txid:e.tx.h,vout:1,satoshis:new f.default(n.bchSatoshis),address:n.address},pricePerToken:o.pricePerToken,scriptPrice:o.scriptPrice,sellAmountToken:new f.default(n.slpAmount),receivingAddress:c.decodeAddress(r.b4),expectedAddress:""};if(i.expectedAddress=l.advancedTradeOfferAddress(t,{tokenId:e.slp.detail.tokenIdHex,sellAmountToken:i.sellAmountToken,pricePerToken:i.pricePerToken,receivingAddress:i.receivingAddress,feeAddress:this._networkSettings.feeAddress,feeDivisor:new f.default(this._networkSettings.feeDivisor)}),i.expectedAddress!=i.utxoEntry.address)return;return i}catch(a){return}},e.prototype.offers=function(){return this._offers},e.prototype.tokenId=function(){return this._tokenId},e.prototype.addReceivedOfferListener=function(e){this._receivedOfferListeners.push(e)},e.debug=!1,e}()},Cchj:function(e,t,r){"use strict";var n=r("O2hg").validate,o={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};e.exports={encode:function(e){n(e instanceof Uint8Array,"Invalid data: "+e+".");for(var t="",r=0;r<e.length;++r){var o=e[r];n(0<=o&&o<32,"Invalid value: "+o+"."),t+="qpzry9x8gf2tvdw0s3jn54khce6mua7l"[o]}return t},decode:function(e){n("string"==typeof e,"Invalid base32-encoded string: "+e+".");for(var t=new Uint8Array(e.length),r=0;r<e.length;++r){var i=e[r];n(i in o,"Invalid value: "+i+"."),t[r]=o[i]}return t}}},MxGg:function(e,t,r){"use strict";var n=r("O2hg").validate;e.exports=function(e,t,r,o){for(var i=o?Math.floor(e.length*t/r):Math.ceil(e.length*t/r),a=(1<<r)-1,s=new Uint8Array(i),u=0,c=0,l=0,f=0;f<e.length;++f){var h=e[f];for(n(0<=h&&h>>t==0,"Invalid value: "+h+"."),c=c<<t|h,l+=t;l>=r;)s[u]=c>>(l-=r)&a,++u}return o?n(l<t&&0==(c<<r-l&a),"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):l>0&&(s[u]=c<<r-l&a,++u),s}},O2hg:function(e,t,r){"use strict";function n(e){var t=new Error;this.name=t.name="ValidationError",this.message=t.message=e,this.stack=t.stack}n.prototype=Object.create(Error.prototype),e.exports={ValidationError:n,validate:function(e,t){if(!e)throw new n(t)}}},Rkdt:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("uGzR")),n(r("88k+")),n(r("7Xm5"))},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},dAlA:function(e,t,r){(function(e){var r,n=function(e){"use strict";var t=1e7,r=7,o=9007199254740992,i=f(o),a=Math.log(o);function s(e,t){return void 0===e?s[0]:void 0!==t?10==+t?H(e):U(e,t):H(e)}function u(e,t){this.value=e,this.sign=t,this.isSmall=!1}function c(e){this.value=e,this.sign=e<0,this.isSmall=!0}function l(e){return-o<e&&e<o}function f(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function h(e){p(e);var r=e.length;if(r<4&&A(e,i)<0)switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function p(e){for(var t=e.length;0===e[--t];);e.length=t+1}function d(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function v(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,r){var n,o,i=e.length,a=r.length,s=new Array(i),u=0,c=t;for(o=0;o<a;o++)s[o]=(n=e[o]+r[o]+u)-(u=n>=c?1:0)*c;for(;o<i;)n=e[o]+u,s[o++]=n-(u=n===c?1:0)*c;return u>0&&s.push(u),s}function m(e,t){return e.length>=t.length?y(e,t):y(t,e)}function g(e,r){var n,o,i=e.length,a=new Array(i),s=t;for(o=0;o<i;o++)n=e[o]-s+r,r=Math.floor(n/s),a[o]=n-r*s,r+=1;for(;r>0;)a[o++]=r%s,r=Math.floor(r/s);return a}function b(e,r){var n,o,i=e.length,a=r.length,s=new Array(i),u=0,c=t;for(n=0;n<a;n++)(o=e[n]-u-r[n])<0?(o+=c,u=1):u=0,s[n]=o;for(n=a;n<i;n++){if(!((o=e[n]-u)<0)){s[n++]=o;break}s[n]=o+=c}for(;n<i;n++)s[n]=e[n];return p(s),s}function w(e,r,n){var o,i,a=e.length,s=new Array(a),l=-r,f=t;for(o=0;o<a;o++)i=e[o]+l,l=Math.floor(i/f),s[o]=(i%=f)<0?i+f:i;return"number"==typeof(s=h(s))?(n&&(s=-s),new c(s)):new u(s,n)}function k(e,r){var n,o,i,a,s=e.length,u=r.length,c=d(s+u),l=t;for(i=0;i<s;++i){a=e[i];for(var f=0;f<u;++f)n=a*r[f]+c[i+f],o=Math.floor(n/l),c[i+f]=n-o*l,c[i+f+1]+=o}return p(c),c}function O(e,r){var n,o,i=e.length,a=new Array(i),s=t,u=0;for(o=0;o<i;o++)n=e[o]*r+u,u=Math.floor(n/s),a[o]=n-u*s;for(;u>0;)a[o++]=u%s,u=Math.floor(u/s);return a}function S(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function _(e,r,n){return new u(e<t?O(r,e):k(r,f(e)),n)}function x(e){var r,n,o,i,a=e.length,s=d(a+a),u=t;for(o=0;o<a;o++){n=0-(i=e[o])*i;for(var c=o;c<a;c++)r=i*e[c]*2+s[o+c]+n,n=Math.floor(r/u),s[o+c]=r-n*u;s[o+a]=n}return p(s),s}function M(e,r){var n,o,i,a,s=e.length,u=d(s),c=t;for(i=0,n=s-1;n>=0;--n)i=(a=i*c+e[n])-(o=v(a/r))*r,u[n]=0|o;return[u,0|i]}function T(e,r){var n,o,i=H(r),a=e.value,l=i.value;if(0===l)throw new Error("Cannot divide by zero");if(e.isSmall)return i.isSmall?[new c(v(a/l)),new c(a%l)]:[s[0],e];if(i.isSmall){if(1===l)return[e,s[0]];if(-1==l)return[e.negate(),s[0]];var y=Math.abs(l);if(y<t){o=h((n=M(a,y))[0]);var m=n[1];return e.sign&&(m=-m),"number"==typeof o?(e.sign!==i.sign&&(o=-o),[new c(o),new c(m)]):[new u(o,e.sign!==i.sign),new c(m)]}l=f(y)}var g=A(a,l);if(-1===g)return[s[0],e];if(0===g)return[s[e.sign===i.sign?1:-1],s[0]];n=a.length+l.length<=200?function(e,r){var n,o,i,a,s,u,c,l=e.length,f=r.length,p=t,v=d(r.length),y=r[f-1],m=Math.ceil(p/(2*y)),g=O(e,m),b=O(r,m);for(g.length<=l&&g.push(0),b.push(0),y=b[f-1],o=l-f;o>=0;o--){for(n=p-1,g[o+f]!==y&&(n=Math.floor((g[o+f]*p+g[o+f-1])/y)),i=0,a=0,u=b.length,s=0;s<u;s++)i+=n*b[s],c=Math.floor(i/p),a+=g[o+s]-(i-c*p),i=c,a<0?(g[o+s]=a+p,a=-1):(g[o+s]=a,a=0);for(;0!==a;){for(n-=1,i=0,s=0;s<u;s++)(i+=g[o+s]-p+b[s])<0?(g[o+s]=i+p,i=0):(g[o+s]=i,i=1);a+=i}v[o]=n}return g=M(g,m)[0],[h(v),h(g)]}(a,l):function(e,r){for(var n,o,i,a,s=e.length,u=r.length,c=[],l=[],f=t;s;)if(l.unshift(e[--s]),p(l),A(l,r)<0)c.push(0);else{i=l[(o=l.length)-1]*f+l[o-2],o>u&&(i=(i+1)*f),n=Math.ceil(i/(r[u-1]*f+r[u-2]));do{if(A(a=O(r,n),l)<=0)break;n--}while(n);c.push(n),l=b(l,a)}return c.reverse(),[h(c),h(l)]}(a,l);var w=e.sign!==i.sign,k=n[1],S=e.sign;return"number"==typeof(o=n[0])?(w&&(o=-o),o=new c(o)):o=new u(o,w),"number"==typeof k?(S&&(k=-k),k=new c(k)):k=new u(k,S),[o,k]}function A(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function I(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function $(e,t){for(var r,o,i,a=e.prev(),u=a,c=0;u.isEven();)u=u.divide(2),c++;e:for(o=0;o<t.length;o++)if(!e.lesser(t[o])&&!(i=n(t[o]).modPow(u,e)).equals(s[1])&&!i.equals(a)){for(r=c-1;0!=r;r--){if((i=i.square().mod(e)).isUnit())return!1;if(i.equals(a))continue e}return!1}return!0}u.prototype=Object.create(s.prototype),c.prototype=Object.create(s.prototype),u.prototype.add=function(e){var t=H(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return new u(t.isSmall?g(r,Math.abs(n)):m(r,n),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(e){var t=H(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(l(r+n))return new c(r+n);n=f(Math.abs(n))}return new u(g(n,Math.abs(r)),r<0)},c.prototype.plus=c.prototype.add,u.prototype.subtract=function(e){var t=H(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,n=t.value;return t.isSmall?w(r,Math.abs(n),this.sign):function(e,t,r){var n;return A(e,t)>=0?n=b(e,t):(n=b(t,e),r=!r),"number"==typeof(n=h(n))?(r&&(n=-n),new c(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(e){var t=H(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new c(r-n):w(n,Math.abs(r),r>=0)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var e=this.sign,t=new c(-this.value);return t.sign=!e,t},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},u.prototype.multiply=function(e){var r,n,o,i=H(e),a=this.value,c=i.value,l=this.sign!==i.sign;if(i.isSmall){if(0===c)return s[0];if(1===c)return this;if(-1===c)return this.negate();if((r=Math.abs(c))<t)return new u(O(a,r),l);c=f(r)}return-.012*(n=a.length)-.012*(o=c.length)+15e-6*n*o>0?new u(function e(t,r){var n=Math.max(t.length,r.length);if(n<=30)return k(t,r);n=Math.ceil(n/2);var o=t.slice(n),i=t.slice(0,n),a=r.slice(n),s=r.slice(0,n),u=e(i,s),c=e(o,a),l=e(m(i,o),m(s,a)),f=m(m(u,S(b(b(l,u),c),n)),S(c,2*n));return p(f),f}(a,c),l):new u(k(a,c),l)},u.prototype.times=u.prototype.multiply,c.prototype._multiplyBySmall=function(e){return l(e.value*this.value)?new c(e.value*this.value):_(Math.abs(e.value),f(Math.abs(this.value)),this.sign!==e.sign)},u.prototype._multiplyBySmall=function(e){return 0===e.value?s[0]:1===e.value?this:-1===e.value?this.negate():_(Math.abs(e.value),this.value,this.sign!==e.sign)},c.prototype.times=c.prototype.multiply=function(e){return H(e)._multiplyBySmall(this)},u.prototype.square=function(){return new u(x(this.value),!1)},c.prototype.square=function(){var e=this.value*this.value;return l(e)?new c(e):new u(x(f(Math.abs(this.value))),!1)},c.prototype.divmod=u.prototype.divmod=function(e){var t=T(this,e);return{quotient:t[0],remainder:t[1]}},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide=function(e){return T(this,e)[0]},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod=function(e){return T(this,e)[1]},u.prototype.pow=function(e){var t,r,n,o=H(e),i=this.value,a=o.value;if(0===a)return s[1];if(0===i)return s[0];if(1===i)return s[1];if(-1===i)return o.isEven()?s[1]:s[-1];if(o.sign)return s[0];if(!o.isSmall)throw new Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&l(t=Math.pow(i,a)))return new c(v(t));for(r=this,n=s[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},c.prototype.pow=u.prototype.pow,c.prototype.modPow=u.prototype.modPow=function(e,t){if(e=H(e),(t=H(t)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=s[1],n=this.mod(t);e.isPositive();){if(n.isZero())return s[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},u.prototype.compareAbs=function(e){var t=H(e);return t.isSmall?1:A(this.value,t.value)},c.prototype.compareAbs=function(e){var t=H(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},u.prototype.compareTo=u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=H(e);return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:A(this.value,t.value)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=H(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals=function(e){return 0===this.compare(e)},c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=function(e){return 0!==this.compare(e)},c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater=function(e){return this.compare(e)>0},c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser=function(e){return this.compare(e)<0},c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},u.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},c.prototype.isDivisibleBy=u.prototype.isDivisibleBy=function(e){var t=H(e),r=t.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(t).equals(s[0])))},c.prototype.isPrime=u.prototype.isPrime=function(e){var t=I(this);if(void 0!==t)return t;var r=this.abs(),o=r.bitLength();if(o<=64)return $(r,[2,325,9375,28178,450775,9780504,1795265022]);for(var i=Math.log(2)*o,a=Math.ceil(!0===e?2*Math.pow(i,2):i),s=[],u=0;u<a;u++)s.push(n(u+2));return $(r,s)},c.prototype.isProbablePrime=u.prototype.isProbablePrime=function(e){var t=I(this);if(void 0!==t)return t;for(var r=this.abs(),o=void 0===e?5:e,i=[],a=0;a<o;a++)i.push(n.randBetween(2,r.minus(2)));return $(r,i)},c.prototype.modInv=u.prototype.modInv=function(e){for(var t,r,o,i=n.zero,a=n.one,s=H(e),u=this.abs();!u.equals(n.zero);)t=s.divide(u),r=i,o=s,i=a,s=u,a=r.subtract(t.multiply(a)),u=o.subtract(t.multiply(u));if(!s.equals(1))throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(e)),this.isNegative()?i.negate():i},u.prototype.next=function(){var e=this.value;return this.sign?w(e,1,this.sign):new u(g(e,1),this.sign)},c.prototype.next=function(){var e=this.value;return e+1<o?new c(e+1):new u(i,!1)},u.prototype.prev=function(){var e=this.value;return this.sign?new u(g(e,1),!0):w(e,1,this.sign)},c.prototype.prev=function(){var e=this.value;return e-1>-o?new c(e-1):new u(i,!0)};for(var P=[1];2*P[P.length-1]<=t;)P.push(2*P[P.length-1]);var E=P.length,L=P[E-1];function q(e){return("number"==typeof e||"string"==typeof e)&&+Math.abs(e)<=t||e instanceof u&&e.value.length<=1}function N(e,t,r){t=H(t);for(var o=e.isNegative(),i=t.isNegative(),a=o?e.not():e,s=i?t.not():t,u=0,c=0,l=null,f=null,h=[];!a.isZero()||!s.isZero();)u=(l=T(a,L))[1].toJSNumber(),o&&(u=L-1-u),c=(f=T(s,L))[1].toJSNumber(),i&&(c=L-1-c),a=l[0],s=f[0],h.push(r(u,c));for(var p=0!==r(o?1:0,i?1:0)?n(-1):n(0),d=h.length-1;d>=0;d-=1)p=p.multiply(L).add(n(h[d]));return p}c.prototype.shiftLeft=u.prototype.shiftLeft=function(e){if(!q(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftRight(-e);var t=this;if(t.isZero())return t;for(;e>=E;)t=t.multiply(L),e-=E-1;return t.multiply(P[e])},c.prototype.shiftRight=u.prototype.shiftRight=function(e){var t;if(!q(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftLeft(-e);for(var r=this;e>=E;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=T(r,L))[1].isNegative()?t[0].prev():t[0],e-=E-1}return(t=T(r,P[e]))[1].isNegative()?t[0].prev():t[0]},c.prototype.not=u.prototype.not=function(){return this.negate().prev()},c.prototype.and=u.prototype.and=function(e){return N(this,e,function(e,t){return e&t})},c.prototype.or=u.prototype.or=function(e){return N(this,e,function(e,t){return e|t})},c.prototype.xor=u.prototype.xor=function(e){return N(this,e,function(e,t){return e^t})};var j=1<<30,C=(t&-t)*(t&-t)|j;function D(e){var r=e.value,n="number"==typeof r?r|j:r[0]+r[1]*t|C;return n&-n}function z(e,t){return e=H(e),t=H(t),e.greater(t)?e:t}function B(e,t){return e=H(e),t=H(t),e.lesser(t)?e:t}function R(e,t){if(e=H(e).abs(),t=H(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,o=s[1];e.isEven()&&t.isEven();)r=Math.min(D(e),D(t)),e=e.divide(r),t=t.divide(r),o=o.multiply(r);for(;e.isEven();)e=e.divide(D(e));do{for(;t.isEven();)t=t.divide(D(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return o.isUnit()?e:e.multiply(o)}c.prototype.bitLength=u.prototype.bitLength=function(){var e=this;return e.compareTo(n(0))<0&&(e=e.negate().subtract(n(1))),0===e.compareTo(n(0))?n(0):n(function e(t,r){if(r.compareTo(t)<=0){var o=e(t,r.square(r)),i=o.p,a=o.e,s=i.multiply(r);return s.compareTo(t)<=0?{p:s,e:2*a+1}:{p:i,e:2*a}}return{p:n(1),e:0}}(e,n(2)).e).add(n(1))};var U=function(e,t){for(var r=e.length,n=Math.abs(t),o=0;o<r;o++)if("-"!==(l=e[o].toLowerCase())&&/[a-z0-9]/.test(l)){if(/[0-9]/.test(l)&&+l>=n){if("1"===l&&1===n)continue;throw new Error(l+" is not a valid digit in base "+t+".")}if(l.charCodeAt(0)-87>=n)throw new Error(l+" is not a valid digit in base "+t+".")}if(2<=t&&t<=36&&r<=a/Math.log(t)){var i=parseInt(e,t);if(isNaN(i))throw new Error(l+" is not a valid digit in base "+t+".");return new c(parseInt(e,t))}t=H(t);var s=[],u="-"===e[0];for(o=u?1:0;o<e.length;o++){var l,f=(l=e[o].toLowerCase()).charCodeAt(0);if(48<=f&&f<=57)s.push(H(l));else if(97<=f&&f<=122)s.push(H(l.charCodeAt(0)-87));else{if("<"!==l)throw new Error(l+" is not a valid character");var h=o;do{o++}while(">"!==e[o]);s.push(H(e.slice(h+1,o)))}}return J(s,t,u)};function J(e,t,r){var n,o=s[0],i=s[1];for(n=e.length-1;n>=0;n--)o=o.add(e[n].times(i)),i=i.times(t);return r?o.negate():o}function F(e){return e<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e):"<"+e+">"}function V(e,t){if((t=n(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+e-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var o=!1;if(e.isNegative()&&t.isPositive()&&(o=!0,e=e.abs()),t.equals(1))return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+e)).map(Number.prototype.valueOf,1),isNegative:o};for(var i,a=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){i=s.divmod(t),s=i.quotient;var u=i.remainder;u.isNegative()&&(u=t.minus(u).abs(),s=s.next()),a.push(u.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:o}}function Z(e,t){var r=V(e,t);return(r.isNegative?"-":"")+r.value.map(F).join("")}function K(e){if(l(+e)){var t=+e;if(t===v(t))return new c(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var o=e.split(/e/i);if(o.length>2)throw new Error("Invalid integer: "+o.join("e"));if(2===o.length){var i=o[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==v(i)||!l(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var a=o[0],s=a.indexOf(".");if(s>=0&&(i-=a.length-s-1,a=a.slice(0,s)+a.slice(s+1)),i<0)throw new Error("Cannot include negative exponent part for integers");e=a+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);for(var f=[],h=e.length,d=r,y=h-d;h>0;)f.push(+e.slice(y,h)),(y-=d)<0&&(y=0),h-=d;return p(f),new u(f,n)}function H(e){return"number"==typeof e?function(e){if(l(e)){if(e!==v(e))throw new Error(e+" is not an integer.");return new c(e)}return K(e.toString())}(e):"string"==typeof e?K(e):e}u.prototype.toArray=function(e){return V(this,e)},c.prototype.toArray=function(e){return V(this,e)},u.prototype.toString=function(e){if(void 0===e&&(e=10),10!==e)return Z(this,e);for(var t,r=this.value,n=r.length,o=String(r[--n]);--n>=0;)t=String(r[n]),o+="0000000".slice(t.length)+t;return(this.sign?"-":"")+o},c.prototype.toString=function(e){return void 0===e&&(e=10),10!=e?Z(this,e):String(this.value)},u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.toJSNumber=u.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf=function(){return this.value};for(var G=0;G<1e3;G++)s[G]=new c(G),G>0&&(s[-G]=new c(-G));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=z,s.min=B,s.gcd=R,s.lcm=function(e,t){return e=H(e).abs(),t=H(t).abs(),e.divide(R(e,t)).multiply(t)},s.isInstance=function(e){return e instanceof u||e instanceof c},s.randBetween=function(e,r){var n=B(e=H(e),r=H(r)),o=z(e,r).subtract(n).add(1);if(o.isSmall)return n.add(Math.floor(Math.random()*o));for(var i=[],a=!0,s=o.value.length-1;s>=0;s--){var l=a?o.value[s]:t,f=v(Math.random()*l);i.unshift(f),f<l&&(a=!1)}return i=h(i),n.add("number"==typeof i?new c(i):new u(i,!1))},s.fromArray=function(e,t,r){return J(e.map(H),H(t||10),r)},s}();e.hasOwnProperty("exports")&&(e.exports=n),void 0===(r=(function(){return n}).apply(t,[]))||(e.exports=r)}).call(this,r("YuTi")(e))},llEn:function(e,t,r){"use strict";var n=r("Cchj"),o=r("dAlA"),i=r("MxGg"),a=r("O2hg"),s=a.validate,u=a.ValidationError,c=["bitcoincash","bchtest","bchreg"];function l(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;++r)t[r]=31&e[r].charCodeAt(0);return t}function f(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function h(e){for(var t=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=o(1),n=0;n<e.length;++n){var i=e[n],a=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var s=0;s<t.length;++s)a.shiftRight(s).and(1).equals(1)&&(r=r.xor(t[s]))}return r.xor(1)}function p(e){return e===e.toLowerCase()||e===e.toUpperCase()}e.exports={encode:function(e,t,r){s("string"==typeof e&&function(e){return p(e)&&-1!==c.indexOf(e.toLowerCase())}(e),"Invalid prefix: "+e+"."),s("string"==typeof t,"Invalid type: "+t+"."),s(r instanceof Uint8Array,"Invalid hash: "+r+".");var o,a=f(l(e),new Uint8Array(1)),d=function(e){switch(e){case"P2PKH":return 0;case"P2SH":return 8;default:throw new u("Invalid type: "+e+".")}}(t)+function(e){switch(8*e.length){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new u("Invalid hash size: "+e.length+".")}}(r),v=(o=f(new Uint8Array([d]),r),i(o,8,5)),y=f(f(a,v),new Uint8Array(8)),m=f(v,function(e){for(var t=new Uint8Array(8),r=0;r<8;++r)t[7-r]=e.and(31).toJSNumber(),e=e.shiftRight(5);return t}(h(y)));return e+":"+n.encode(m)},decode:function(e){s("string"==typeof e&&p(e),"Invalid address: "+e+".");var t=e.toLowerCase().split(":");s(2===t.length,"Missing prefix: "+e+".");var r=t[0],o=n.decode(t[1]);s(function(e,t){var r=f(l(e),new Uint8Array(1));return h(f(r,t)).equals(0)}(r,o),"Invalid checksum: "+e+".");var a,c=(a=o.subarray(0,-8),i(a,5,8,!0)),d=c[0],v=c.subarray(1);return s(function(e){switch(7&e){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}(d)===8*v.length,"Invalid hash size: "+e+"."),{prefix:r,type:function(e){switch(120&e){case 0:return"P2PKH";case 8:return"P2SH";default:throw new u("Invalid address type in version byte: "+e+".")}}(d),hash:v}},ValidationError:u}},moT7:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r("J66h"),a=n(r("llEn")),s=o(r("kB5k"));function u(e){return Uint8Array.from(atob(e),function(e){return e.charCodeAt(0)})}t.LOKAD_ID_BASE64=i.Base64.encode("EXCH"),t.VERSION={op:82},t.decodePrice=function(e,t){var r=u(t.power),n=u(t.price),o=2==r.length&&1==r[1],i=new s.default(new DataView(n.buffer).getUint32(0,!1)),a=o?new s.default("1").div(i):i;return{pricePerToken:new s.default("10").pow(e).times(a),scriptPrice:i}},t.decodeAddress=function(e){return a.encode("bitcoincash","P2PKH",u(e))}},uGzR:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("Mpt7"),s=r("J66h"),u=r("moT7"),c=r("7Xm5"),l=i(r("kB5k")),f=i(r("/+cc")),h={shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["symbol","name"]};t.MarketOverview=function(){function e(){this._tokenDetails=a.Map(),this._tokenLastTrades=a.Map(),this._tokenVolumes=a.Map(),this._tokenPrices=a.Map(),this._tokenPriceIncreases=a.Map(),this._tokenOverview=a.Map(),this._fuse=new f.default([],h)}return e.create=function(){return n(this,void 0,void 0,function(){var t,r,n,i;return o(this,function(o){switch(o.label){case 0:t=new e,r=[t._fetchDetails(),t._fetchTokens(),t._fetchPrice24h(),t._fetchVolume24h()],n=0,i=r,o.label=1;case 1:return n<i.length?[4,i[n]]:[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return t._updatePriceIncrease(),t._updateOverview(),[2,t]}})})},e.prototype._fetchDetails=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,fetch("https://rest.bitcoin.com/v2/slp/list")];case 1:return[4,t.sent().json()];case 2:return e=t.sent(),this._tokenDetails=a.Map(e.map(function(e){return[e.id,e]})),[2]}})})},e.prototype._fetchTokens=function(){return n(this,void 0,void 0,function(){var e,t,r;return o(this,function(n){switch(n.label){case 0:return e=s.Base64.encode(JSON.stringify({v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION,"slp.valid":!0}},{$addFields:{utxoId:{$concat:["$tx.h",":1"]}}},{$lookup:{from:"utxos",localField:"utxoId",foreignField:"utxo",as:"foundUtxo"}},{$addFields:{exchInput:{$arrayElemAt:[{$filter:{input:"$in",as:"input",cond:{$and:[{$eq:["$$input.b0",u.LOKAD_ID_BASE64]},{$eq:["$$input.b1",u.VERSION]}]}}},0]},hasUtxo:{$size:"$foundUtxo"}}},{$sort:{hasUtxo:-1,"blk.t":-1}},{$group:{_id:"$slp.detail.tokenIdHex",decimals:{$first:"$slp.detail.decimals"},numberOfOpenOffers:{$sum:"$hasUtxo"},numberOfClosedOffers:{$sum:{$subtract:[1,"$hasUtxo"]}},lastTrade:{$first:{timestamp:"$blk.t",power:"$exchInput.b2",price:"$exchInput.b3",isAccepted:{$ne:["$foundUtxo",[]]}}}}}]}})),[4,fetch("https://slpdb.fountainhead.cash/q/"+e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),r=a.List.of(t.u,t.c),this._tokenLastTrades=r.map(function(e){return a.Map(e.map(function(e){return[e._id,{numberOfOpenOffers:e.numberOfOpenOffers,numberOfClosedOffers:e.numberOfClosedOffers,lastTrade:{pricePerToken:u.decodePrice(e.decimals,e.lastTrade).pricePerToken,timestamp:e.lastTrade.timestamp,isAccepted:e.lastTrade.isAccepted}}]}))}).reduce(function(e,t){return a.Map(a.Set(e.keySeq().concat(t.keySeq())).map(function(r){var n=e.get(r),o=t.get(r),i=n||o;if(void 0!==n&&void 0!==o&&(i={numberOfClosedOffers:n.numberOfClosedOffers+o.numberOfClosedOffers,numberOfOpenOffers:n.numberOfOpenOffers+o.numberOfOpenOffers,lastTrade:void 0===n.lastTrade.timestamp?n.lastTrade:o.lastTrade}),void 0===i)throw"Impossible";return[r,i]}))}),[2]}})})},e.prototype._fetchVolume24h=function(){return n(this,void 0,void 0,function(){var e,t,r,n;return o(this,function(o){switch(o.label){case 0:return e={v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION,"out.e.a":c.defaultNetworkSettings.feeAddressSlp,"slp.valid":!0,$and:[{$or:[{"slp.detail.outputs":{$size:2}},{"slp.detail.outputs":{$size:3}}]},{$or:[{blk:{$exists:!1}},{"blk.t":{$gt:(new Date).getTime()/1e3-86400}}]}]}},{$addFields:{tradedTokens:{$arrayElemAt:["$slp.detail.outputs",-1]},tradedSatoshis:{$arrayElemAt:["$out",{$subtract:[{$size:"$slp.detail.outputs"},1]}]}}},{$project:{txid:"$tx.h",tokenId:"$slp.detail.tokenIdHex",tradedTokens:{$toDecimal:"$tradedTokens.amount"},tradedSatoshis:"$tradedSatoshis.e.v",slp:"$slp"}},{$group:{_id:"$tokenId",volumeTokens:{$sum:"$tradedTokens"},volumeSatoshis:{$sum:"$tradedSatoshis"},numberOfTrades:{$sum:1},decimals:{$first:"$slp.detail.decimals"}}}]}},t=s.Base64.encode(JSON.stringify(e)),[4,fetch("https://slpdb.fountainhead.cash/q/"+t)];case 1:return[4,o.sent().json()];case 2:return r=o.sent(),n=a.List.of(r.u,r.c),this._tokenVolumes=n.map(function(e){return a.Map(e.map(function(e){return[e._id,{last24h:{numberOfTrades:e.numberOfTrades,volumeSatoshis:new l.default(e.volumeSatoshis),volumeTokens:new l.default(e.volumeTokens)}}]}))}).reduce(function(e,t){return a.Map(a.Set(e.keySeq().concat(t.keySeq())).map(function(r){var n=e.get(r),o=t.get(r),i=n||o;if(void 0!==n&&void 0!==o&&(i={last24h:{numberOfTrades:n.last24h.numberOfTrades+o.last24h.numberOfTrades,volumeTokens:n.last24h.volumeTokens.plus(o.last24h.volumeTokens),volumeSatoshis:n.last24h.volumeSatoshis.plus(o.last24h.volumeSatoshis)}}),void 0===i)throw"Impossible";return[r,i]}))}),[2]}})})},e.prototype._fetchPrice24h=function(){return n(this,void 0,void 0,function(){var e,t,r;return o(this,function(n){switch(n.label){case 0:return e={v:3,q:{db:["c","u"],aggregate:[{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION,"out.e.a":c.defaultNetworkSettings.feeAddressSlp,"slp.valid":!0,$or:[{"slp.detail.outputs":{$size:2}},{"slp.detail.outputs":{$size:3}}],"blk.t":{$lt:(new Date).getTime()/1e3-86400}}},{$sort:{"blk.t":-1}},{$unwind:"$in"},{$match:{"in.b0":u.LOKAD_ID_BASE64,"in.b1":u.VERSION}},{$group:{_id:"$slp.detail.tokenIdHex",price:{$first:"$in.b3"},power:{$first:"$in.b2"},decimals:{$first:"$slp.detail.decimals"}}}]}},t=s.Base64.encode(JSON.stringify(e)),[4,fetch("https://slpdb.fountainhead.cash/q/"+t)];case 1:return[4,n.sent().json()];case 2:return r=n.sent(),this._tokenPrices=a.Map(r.c.map(function(e){return[e._id,{last24h:{pricePerToken:u.decodePrice(e.decimals,e).pricePerToken}}]})),[2]}})})},e.prototype._updatePriceIncrease=function(){var e=this;this._tokenPriceIncreases=a.Map(a.Set(this._tokenLastTrades.keySeq().concat(this._tokenPrices.keySeq())).map(function(t){var r=e._tokenLastTrades.get(t),n=e._tokenPrices.get(t);return[t,void 0!==r&&void 0!==n?{last24h:{priceIncrease:r.lastTrade.pricePerToken.div(n.last24h.pricePerToken).minus("1")}}:{last24h:{priceIncrease:void 0!==n?new l.default(0):void 0}}]}))},e.prototype._updateOverview=function(){var e=this;this._tokenOverview=a.Map(this._tokenDetails.entrySeq().map(function(t){var r=t[0],n=t[1],o=e._tokenLastTrades.get(r),i=e._tokenVolumes.get(r),a=e._tokenPrices.get(r),s=e._tokenPriceIncreases.get(r);return[r,{tokenId:r,decimals:n.decimals,name:n.name,symbol:n.symbol,totalNumberOfOpenOffers:o?o.numberOfOpenOffers:0,totalNumberOfClosedOffers:o?o.numberOfClosedOffers:0,totalSupplyToken:new l.default(n.circulatingSupply),marketCapSatoshis:o?o.lastTrade.pricePerToken.times(n.circulatingSupply):void 0,lastTrade:{isAccepted:o?o.lastTrade.isAccepted:void 0,pricePerToken:o?o.lastTrade.pricePerToken:void 0,timestamp:o?o.lastTrade.timestamp:void 0},last24h:{numberOfTrades:i?i.last24h.numberOfTrades:0,volumeSatoshis:i?i.last24h.volumeSatoshis:new l.default(0),volumeTokens:i?i.last24h.volumeTokens:new l.default(0),pricePerToken:a?a.last24h.pricePerToken:void 0,priceIncrease:s?s.last24h.priceIncrease:void 0}}]})),this._fuse=new f.default(this._tokenOverview.valueSeq().toArray(),h)},e.prototype.tokenDetails=function(e){return this._tokenDetails.get(e)},e.prototype.tokens=function(e,t,r,n){var o;switch(void 0===n&&(n=!1),e){case"totalNumberOfOpenOffers":o=function(e){return e.totalNumberOfOpenOffers};break;case"totalNumberOfClosedOffers":o=function(e){return e.totalNumberOfClosedOffers};break;case"pricePerToken":o=function(e){return e.lastTrade.pricePerToken};break;case"marketCapSatoshis":o=function(e){return e.marketCapSatoshis};break;case"volumeTokens":o=function(e){return e.last24h.volumeTokens};break;case"volumeSatoshis":o=function(e){return e.last24h.volumeSatoshis};break;case"priceIncrease":o=function(e){return e.last24h.priceIncrease};break;default:throw"Unknown sort key: "+e}var i=n?1:-1;return this._tokenOverview.valueSeq().sortBy(function(e){var t=o(e);if(void 0!==t)return new l.default(t).times(i).toNumber()}).skip(t).take(r).toList()},e.prototype.searchTokens=function(e){var t=this._tokenOverview.get(e);return void 0!==t?a.List.of(t):a.List(this._fuse.search(e))},e}()},vTob:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r("mrSG"),o=r("26FU"),i=r("0/uQ"),a=r("t9fZ"),s=r("67Y/"),u=r("Rkdt"),c=r("CcnG"),l=function(){function e(){var e=this;this.marketToken$=new o.a(null),this.marketOverview$=new o.a([]),this.marketOverviewToken$=new o.a(null),this.loadMarketOverviewToken=function(t){e.marketOverviewToken$.next(null),e.loadMarketOverviewQuery().pipe(Object(a.a)(1),Object(s.a)(function(e){return e.searchTokens(t).toArray()})).subscribe(function(t){e.marketOverviewToken$.next(t[0])})},this.loadMarketOverview=function(t,r,n){void 0===n&&(n=void 0),n?e.loadMarketOverviewSearch(n):e.marketOverview$.pipe(Object(a.a)(1)).subscribe(function(n){n.length?e.loadMarketOverviewAll(t,r):e.loadMarketOverviewSmartInit(t,r)})},this.loadOffersAndStartListener=function(t){Object(i.a)(u.MarketToken.create(t,u.defaultNetworkSettings)).pipe(Object(a.a)(1)).subscribe(function(t){e.marketTokenRef=t,e.marketToken$.next(e.marketTokenRef),e.startMarketTokenListener()})},this.unsubscribeMarketTokenListener=function(){e.marketTokenRef=null},this.getTop10GainersAndLosers=function(){return e.loadMarketOverviewQuery().pipe(Object(a.a)(1),Object(s.a)(function(e){return{gainers:e.tokens("priceIncrease",0,10,!1).toArray(),losers:e.tokens("priceIncrease",0,10,!0).toArray()}}))},this.loadMarketOverviewSearch=function(t){e.loadMarketOverviewQuery().pipe(Object(a.a)(1),Object(s.a)(function(e){return e.searchTokens(t).toArray()})).subscribe(function(t){e.marketOverview$.next(t)})},this.loadMarketOverviewAll=function(t,r){e.loadMarketOverviewQuery().pipe(Object(a.a)(1),Object(s.a)(function(e){return e.tokens(t,0,100,r).toArray()})).subscribe(function(t){e.marketOverview$.next(t)})},this.loadMarketOverviewSmartInit=function(t,r){e.loadMarketOverviewQuery().pipe(Object(a.a)(1),Object(s.a)(function(e){return e.tokens(t,0,20,r).toArray()})).subscribe(function(n){e.marketOverview$.next(n),e.loadMarketOverviewSmartRemaining(t,r,n)})},this.loadMarketOverviewSmartRemaining=function(t,r,o){e.loadMarketOverviewQuery().pipe(Object(a.a)(1),Object(s.a)(function(e){return e.tokens(t,20,80,r).toArray()})).subscribe(function(t){e.marketOverview$.next(n.i(o,t))})},this.loadMarketOverviewQuery=function(){return Object(i.a)(u.MarketOverview.create())},this.startMarketTokenListener=function(){e.marketTokenRef.addReceivedOfferListener(function(){e.marketToken$.next(e.marketTokenRef)})}}return Object.defineProperty(e.prototype,"marketToken",{get:function(){return this.marketToken$.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marketOverview",{get:function(){return this.marketOverview$.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marketOverviewToken",{get:function(){return this.marketOverviewToken$.asObservable()},enumerable:!0,configurable:!0}),e.ngInjectableDef=c.Rb({factory:function(){return new e},token:e,providedIn:"root"}),e}()}}]);