(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Yeka:function(t,e,n){"use strict";n.r(e);var c=n("ofXK"),i=n("fXoL"),a=n("3Pt+"),s=n("sJxD"),o=n("p2CB"),l=n("S36L");class r{constructor(t){this.notificationService=t}onClick(t){this.copyInputElement.disabled=!1,this.copyInputElement.select(),this.copyInputElement.disabled=!0,document.execCommand("copy"),this.copyNotificationText&&this.notificationService.showNotification(this.copyNotificationText)}}r.ngDirectiveDef=i.Db({type:r,selectors:[["","appCopy",""]],factory:function(t){return new(t||r)(i.Ib(l.a))},hostBindings:function(t,e,n){1&t&&i.cc("click",function(t){return e.onClick(t)})},inputs:{copyInputElement:"copyInputElement",copyNotificationText:"copyNotificationText"}});class p{}p.ngModuleDef=i.Gb({type:p}),p.ngInjectorDef=i.Fb({factory:function(t){return new(t||p)},imports:[[c.c]]});var d=n("hVeP"),b=n("sNRQ"),g=n("kXT5"),h=n("d9RS"),u=n("h3vL"),_=n("KVSl"),f=n("IzEk"),w=n("tyNb"),m=n("mK86"),O=n("wIqn"),x=n("be9G");const v=[1,"wallet-create"],y=[1,"wallet-create--title"],C=[1,"wallet-create__content"],M=["class","wallet-create__warning",4,"ngIf"],P=[1,"wallet-create__boxes"],k=[3,"click"],U=[1,"wallet-create--or"],I=[1,"wallet-create__warning"],$=[1,"wallet-create__warning--heading"],A=[1,"wallet-create__warning--title"],j=["button-orange","","button-md","",3,"routerLink"];function S(t,e){if(1&t&&(i.Ub(0,"app-widget",I),i.Ub(1,"p",$),i.Ac(2," You already have a wallet "),i.Ob(),i.Ub(3,"p",A),i.Ac(4," Make sure you backup your existing wallet before creating a new "),i.Ob(),i.Ub(5,"app-button",j),i.Ac(6," Export "),i.Ob(),i.Ob()),2&t){const t=i.hc();i.vc(5),i.nc("routerLink","../"+t.slpRoutes.walletExport)}}class T{constructor(t,e){this.router=t,this.cashContractsService=e,this.isSecretInStorage=!1,this.slpRoutes=Object.assign({},_.a),this.create=(()=>{localStorage.removeItem("secret"),this.cashContractsService.generateNewWallet(),this.navigateToWallet()}),this.navigateToWallet=(()=>{this.router.navigate([_.a.wallet])})}ngOnInit(){this.cashContractsService.listenIsSecretInStorage.pipe(Object(f.a)(1)).subscribe(t=>{this.isSecretInStorage=t})}}T.ngComponentDef=i.Cb({type:T,selectors:[["app-wallet-create"]],factory:function(t){return new(t||T)(i.Ib(w.c),i.Ib(u.a))},consts:17,vars:1,template:function(t,e){1&t&&(i.Ub(0,"app-wrapper"),i.Ub(1,"div",v),i.Ub(2,"h2"),i.Ac(3,"Create wallet"),i.Ob(),i.Ub(4,"p",y),i.Ac(5," Proin viverra, ligula sit amet ultrices semper, Nunc nulla. Sed lectus. "),i.Ob(),i.Ub(6,"div",C),i.yc(7,S,7,1,"app-widget",M),i.Ub(8,"div",P),i.Ub(9,"app-widget",k),i.cc("click",function(t){return e.create()}),i.Ub(10,"h3"),i.Ac(11," Create a new wallet "),i.Ob(),i.Ob(),i.Ub(12,"p",U),i.Ac(13,"OR"),i.Ob(),i.Ub(14,"app-widget"),i.Ub(15,"h3"),i.Ac(16," Import private key "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t&&(i.vc(7),i.nc("ngIf",e.isSecretInStorage))},directives:[m.a,c.t,O.a,x.a,w.d],styles:["[_nghost-%COMP%]{-webkit-animation:.2s forwards fadeIn;animation:.2s forwards fadeIn;display:flex}.wallet-create[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.wallet-create[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-weight:600;margin-bottom:10px}.wallet-create[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:500;padding:40px;text-align:center}.wallet-create--title[_ngcontent-%COMP%]{color:#fff;margin-bottom:40px}.wallet-create--or[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:600;padding:0 40px}.wallet-create__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;max-width:800px}.wallet-create__boxes[_ngcontent-%COMP%]{align-items:center;display:flex}.wallet-create__boxes[_ngcontent-%COMP%]   app-widget[_ngcontent-%COMP%]{cursor:pointer}.wallet-create__warning[_ngcontent-%COMP%]{align-items:center;flex-direction:column;margin-bottom:40px}.wallet-create__warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#faa352;text-align:center}.wallet-create__warning--heading[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin-bottom:10px}.wallet-create__warning--title[_ngcontent-%COMP%]{margin-bottom:20px}.wallet-create__warning[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{margin-top:20px}"],changeDetection:0});var D=n("kB5k"),B=n.n(D),W=n("2Vo4"),E=n("XNiG"),F=n("1G5W"),z=n("ZLIx"),N=n("Afm0"),L=n("wgrp"),J=n("1OPU"),q=n("1Yij");const R=[1,"wallet-details"],X=[1,"wallet-details__header"],G=[1,"wallet-details__header--right"],H=["button-white","",3,"routerLink"],K=[1,"wallet-details__main"],V=[1,"wallet-details--bch"],Q=[1,"wallet-details--usd"],Z=[1,"wallet-details__main__buttons"],Y=["button-md","",1,"mr-lg",3,"routerLink"],tt=["button-md","",1,"ml-lg",3,"routerLink"],et=[1,"wallet-details__content"],nt=[1,"wallet-details__tokens"],ct=["class","mb-sm",3,"item",4,"ngFor","ngForOf","ngForTrackBy"],it=["class","wallet-details__transaction-empty",4,"ngIf"],at=[1,"wallet-details__transactions"],st=[1,"wallet-details__transaction-empty"],ot=[0,"xlink","href","#empty"],lt=[1,"mb-sm",3,"item"],rt=["right","",1,"ml-md",3,"click"];function pt(t,e){if(1&t){const t=i.Xb();i.Ub(0,"app-coin-card",lt),i.Ub(1,"app-button",rt),i.cc("click",function(n){i.sc(t);const c=e.$implicit;return i.hc().openSendToken(c)}),i.Ac(2," Send "),i.Ob(),i.Ob()}if(2&t){const t=e.$implicit;i.vc(0),i.nc("item",t)}}function dt(t,e){1&t&&(i.Ub(0,"app-widget",st),i.gc(),i.Ub(1,"svg"),i.Jb(2,"use",ot),i.Ob(),i.fc(),i.Ub(3,"p"),i.Ac(4,"No tokens yet"),i.Ob(),i.Ob())}class bt{constructor(t,e,n){this.endpointsService=t,this.router=e,this.cashContractsService=n,this.bchBalance$=new W.a(0),this.usdPrice$=new W.a("0"),this.isLoading$=new W.a(!0),this.transactions$=new W.a([]),this.tokens$=new W.a([]),this.slpRoutes=Object.assign({},_.a),this.destroy$=new E.a,this.usdPrice=0,this.openSendToken=(t=>{this.router.navigate([`${_.a.wallet}/${_.a.walletSend}`],{state:{selected:{name:t.name,symbol:t.symbol,balance:t.balance,tokenId:t.id,isToken:!0}}})}),this.trackById=((t,e)=>e.id),this.setTokens=(()=>{const t=this.wallet.tokenIds().map(t=>Object.assign({},this.wallet.tokenDetails(t),{balance:this.wallet.tokenBalance(t),isToken:!0}));this.tokens$.next(t.toArray())}),this.setBchBalance=(()=>{const t=this.wallet.nonTokenBalance(),e=Object(N.b)(t);this.bchBalance$.next(e)})}ngOnInit(){this.cashContractsService.listenWallet.pipe(Object(F.a)(this.destroy$)).subscribe(t=>{t&&(this.isLoading$.next(!1),this.wallet=t,this.setBchBalance(),this.setTokens())}),this.endpointsService.getBchUsdPrice().pipe(Object(f.a)(1)).subscribe(t=>{this.usdPrice=+t.ticker.price,this.bchBalance$.pipe(Object(F.a)(this.destroy$)).subscribe(t=>{const e=new B.a(this.usdPrice*+t);this.usdPrice$.next(e.decimalPlaces(5).toString())})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}bt.ngComponentDef=i.Cb({type:bt,selectors:[["app-wallet-details"]],factory:function(t){return new(t||bt)(i.Ib(z.a),i.Ib(w.c),i.Ib(u.a))},consts:44,vars:23,template:function(t,e){1&t&&(i.Ub(0,"app-wrapper"),i.Ub(1,"div",R),i.Ub(2,"div",X),i.Ub(3,"h2"),i.Ac(4,"Wallet"),i.Ob(),i.Ub(5,"div",G),i.Ub(6,"app-button",H),i.Ac(7," Import "),i.Ob(),i.Ub(8,"app-button",H),i.Ac(9," Export "),i.Ob(),i.Ob(),i.Ob(),i.Ub(10,"app-widget"),i.Ub(11,"div",K),i.Ub(12,"div",V),i.Ub(13,"p"),i.Ac(14),i.ic(15,"bchSeparator"),i.ic(16,"async"),i.Ob(),i.Ob(),i.Ub(17,"div",Q),i.Ub(18,"p"),i.Ac(19),i.ic(20,"usdFormatter"),i.ic(21,"async"),i.Ob(),i.Ob(),i.Ub(22,"div",Z),i.Ub(23,"app-button",Y),i.Ac(24," Send "),i.Ob(),i.Ub(25,"app-button",tt),i.Ac(26," Receive "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ub(27,"div",et),i.Ub(28,"div",nt),i.Ub(29,"h3"),i.Ac(30,"Tokens"),i.Ob(),i.yc(31,pt,3,1,"app-coin-card",ct),i.ic(32,"async"),i.yc(33,dt,5,0,"app-widget",it),i.ic(34,"async"),i.ic(35,"async"),i.Ob(),i.Ub(36,"div",at),i.Ub(37,"h3"),i.Ac(38,"Transactions"),i.Ob(),i.Ub(39,"app-widget",st),i.gc(),i.Ub(40,"svg"),i.Jb(41,"use",ot),i.Ob(),i.fc(),i.Ub(42,"p"),i.Ac(43,"No transactions yet"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t&&(i.vc(6),i.nc("routerLink",e.slpRoutes.walletCreate),i.vc(8),i.nc("routerLink",e.slpRoutes.walletExport),i.vc(14),i.Bc(14,i.bc(" ",i.jc(15,9,i.jc(16,11,e.bchBalance$))," BCH ")),i.vc(19),i.Bc(19,i.bc(" ",i.jc(20,13,i.jc(21,15,e.usdPrice$))," USD ")),i.vc(23),i.nc("routerLink",e.slpRoutes.walletSend),i.vc(25),i.nc("routerLink",e.slpRoutes.walletReceive),i.vc(31),i.nc("ngForOf",i.jc(32,17,e.tokens$)),i.nc("ngForTrackBy",e.trackById),i.vc(33),i.nc("ngIf",!i.jc(34,19,e.tokens$).length&&!i.jc(35,21,e.isLoading$)))},directives:[m.a,x.a,w.d,O.a,c.s,c.t,L.a],pipes:[J.a,c.b,q.a],styles:["[_nghost-%COMP%]{-webkit-animation:.2s forwards fadeIn;animation:.2s forwards fadeIn;display:flex;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:30px}h3[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-bottom:10px}.wallet-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wallet-details__header[_ngcontent-%COMP%]{align-items:center;display:flex;margin-bottom:10px}.wallet-details__header--right[_ngcontent-%COMP%]{display:flex;margin-left:auto}.wallet-details__header--right[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{margin-left:10px}.wallet-details__main[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:240px;width:100%}.wallet-details__main__buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:auto}.wallet-details__main__buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#5ebd6d;border-radius:4px;color:#fff;cursor:pointer;font-size:18px;font-weight:500;margin:0 20px;padding:15px 30px}.wallet-details__content[_ngcontent-%COMP%]{display:flex;margin-top:30px}.wallet-details__tokens[_ngcontent-%COMP%], .wallet-details__transactions[_ngcontent-%COMP%]{flex:1}.wallet-details__tokens[_ngcontent-%COMP%]{margin-right:20px}.wallet-details__token[_ngcontent-%COMP%]{align-items:center;display:flex}.wallet-details__transactions[_ngcontent-%COMP%]{margin-left:20px}.wallet-details__transaction-empty[_ngcontent-%COMP%]{align-items:center;flex-direction:column}.wallet-details__transaction-empty[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#5c5c5c;height:100px}.wallet-details__transaction-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px}.wallet-details--bch[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;margin:20px 0 10px}.wallet-details--bch[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;font-weight:500}.wallet-details--usd[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.wallet-details--usd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:500;text-align:center}"],changeDetection:0});var gt=n("mrSG"),ht=n("XwkG"),ut=n("+ZEg");const _t=[1,"wallet-export"],ft=[1,"wallet-export--title"],wt=[1,"wallet-export__content"],mt=[1,"wallet-export__row"],Ot=[0,"xlink","href","#key"],xt=[1,"wallet-export__row--bottom"],vt=["type","text",3,"value"],yt=["public",""],Ct=["appCopy","",3,"copyInputElement","copyNotificationText"],Mt=[1,"wallet-export__qr"],Pt=["alt","",3,"src",4,"ngIf"],kt=["wif",""],Ut=["alt","",3,"src"];function It(t,e){if(1&t&&i.Jb(0,"img",Ut),2&t){const t=e.ngIf;i.vc(0),i.nc("src",t,i.uc)}}class $t{constructor(t){this.cashContractsService=t,this.publicKey$=new W.a(""),this.privateWif$=new W.a(""),this.privateWifQr$=new W.a(null),this.destroy$=new E.a}ngOnInit(){this.cashContractsService.listenWallet.pipe(Object(F.a)(this.destroy$)).subscribe(t=>gt.a(this,void 0,void 0,function*(){if(!t)return;this.publicKey$.next(t.cashAddr());const e=this.cashContractsService.getWif();this.privateWif$.next(e);const n=yield Object(N.c)(e);this.privateWifQr$.next(n)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}$t.ngComponentDef=i.Cb({type:$t,selectors:[["app-wallet-export"]],factory:function(t){return new(t||$t)(i.Ib(u.a))},consts:35,vars:13,template:function(t,e){if(1&t&&(i.Ub(0,"app-modal"),i.Ub(1,"app-wrapper"),i.Ub(2,"app-modal-heading"),i.Ac(3," Export keys "),i.Ob(),i.Ub(4,"div",_t),i.Ub(5,"p",ft),i.Ac(6," Etiam feugiat lorem non metus. Maecenas vestibulum mollis diam. "),i.Ob(),i.Ub(7,"div",wt),i.Ub(8,"app-widget",mt),i.gc(),i.Ub(9,"svg"),i.Jb(10,"use",Ot),i.Ob(),i.fc(),i.Ub(11,"h3"),i.Ac(12," Public "),i.Ob(),i.Ub(13,"div",xt),i.Jb(14,"input",vt,yt),i.ic(16,"async"),i.Ub(17,"app-button",Ct),i.Ac(18," Copy "),i.Ob(),i.Ob(),i.Ob(),i.Ub(19,"app-widget",mt),i.gc(),i.Ub(20,"svg"),i.Jb(21,"use",Ot),i.Ob(),i.fc(),i.Ub(22,"h3"),i.Ac(23," Private key (WIF) "),i.Ob(),i.Ub(24,"p"),i.Ac(25," Exporting into a non-SLP wallet might burn all tokens "),i.Ob(),i.Ub(26,"div",Mt),i.yc(27,It,1,1,"img",Pt),i.ic(28,"async"),i.Ob(),i.Ub(29,"div",xt),i.Jb(30,"input",vt,kt),i.ic(32,"async"),i.Ub(33,"app-button",Ct),i.Ac(34," Copy "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t){const t=i.qc(15),n=i.qc(31);i.vc(14),i.nc("value",i.jc(16,7,e.publicKey$)),i.vc(17),i.nc("copyInputElement",t),i.nc("copyNotificationText","Copied public key"),i.vc(27),i.nc("ngIf",i.jc(28,9,e.privateWifQr$)),i.vc(30),i.nc("value",i.jc(32,11,e.privateWif$)),i.vc(33),i.nc("copyInputElement",n),i.nc("copyNotificationText","Copied private key (WIF)")}},directives:[ht.a,m.a,ut.a,O.a,x.a,r,c.t],pipes:[c.b],styles:[".wallet-export[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.wallet-export--title[_ngcontent-%COMP%]{color:#fff;margin-bottom:50px}.wallet-export__content[_ngcontent-%COMP%]{margin:0 auto;max-width:800px;width:100%}.wallet-export__content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:0;border:0;font-size:18px;margin-right:10px;width:100%}.wallet-export__content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.wallet-export__row[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:40px}.wallet-export__row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px;margin-bottom:10px;text-align:center}.wallet-export__row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#faa352;font-weight:600;margin-bottom:10px;text-align:center}.wallet-export__row[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#5c5c5c;height:60px;margin:0 auto 10px;width:60px}.wallet-export__row--bottom[_ngcontent-%COMP%]{background:#f2f2f2;border-radius:4px;display:flex;flex-shrink:0;height:60px;margin-top:30px;padding:10px 20px;width:100%}.wallet-export__qr[_ngcontent-%COMP%]{display:flex;height:200px;justify-content:center;margin:40px 0 0}.wallet-export__qr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto}"],changeDetection:0});const At=[1,"wallet-receive"],jt=[1,"wallet-receive__header"],St=[1,"wallet-receive__widget"],Tt=[1,"wallet-receive__qr"],Dt=[3,"src",4,"ngIf"],Bt=[1,"wallet-receive__address"],Wt=["type","text","disabled","true",3,"value"],Et=["bchInput",""],Ft=["appCopy","",3,"copyInputElement","copyNotificationText"],zt=["slpInput",""],Nt=[3,"src"];function Lt(t,e){if(1&t&&i.Jb(0,"img",Nt),2&t){const t=e.ngIf;i.vc(0),i.nc("src",t,i.uc)}}function Jt(t,e){if(1&t&&i.Jb(0,"img",Nt),2&t){const t=e.ngIf;i.vc(0),i.nc("src",t,i.uc)}}class qt{constructor(t){this.cashContractsService=t,this.bchDataUrl$=new W.a(""),this.cashAddr$=new W.a(""),this.slpDataUrl$=new W.a(""),this.slpAddr$=new W.a(""),this.destroy$=new E.a,this.loadWallet=(()=>{this.cashContractsService.listenWallet.pipe(Object(F.a)(this.destroy$)).subscribe(t=>gt.a(this,void 0,void 0,function*(){if(!t)return;const e=t.cashAddr(),n=t.slpAddr();this.cashAddr$.next(e),this.slpAddr$.next(n);const c=yield Object(N.c)(e),i=yield Object(N.c)(n);this.bchDataUrl$.next(c),this.slpDataUrl$.next(i)}))})}ngOnInit(){this.loadWallet()}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}qt.ngComponentDef=i.Cb({type:qt,selectors:[["app-wallet-receive"]],factory:function(t){return new(t||qt)(i.Ib(u.a))},consts:32,vars:16,template:function(t,e){if(1&t&&(i.Ub(0,"app-modal"),i.Ub(1,"app-wrapper"),i.Ub(2,"app-modal-heading"),i.Ac(3," Receive funds "),i.Ob(),i.Ub(4,"div",At),i.Ub(5,"div",jt),i.Ub(6,"p"),i.Ac(7,"Sed aliquam ultrices mauris. Curabitur ullamcorper ultricies nisi. Praesent egestas neque eu enim."),i.Ob(),i.Ob(),i.Ub(8,"app-widget",St),i.Ub(9,"h3"),i.Ac(10,"BCH address"),i.Ob(),i.Ub(11,"div",Tt),i.yc(12,Lt,1,1,"img",Dt),i.ic(13,"async"),i.Ob(),i.Ub(14,"div",Bt),i.Jb(15,"input",Wt,Et),i.ic(17,"async"),i.Ub(18,"app-button",Ft),i.Ac(19," Copy "),i.Ob(),i.Ob(),i.Ob(),i.Ub(20,"app-widget",St),i.Ub(21,"h3"),i.Ac(22,"SLP address"),i.Ob(),i.Ub(23,"div",Tt),i.yc(24,Jt,1,1,"img",Dt),i.ic(25,"async"),i.Ob(),i.Ub(26,"div",Bt),i.Jb(27,"input",Wt,zt),i.ic(29,"async"),i.Ub(30,"app-button",Ft),i.Ac(31," Copy "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t){const t=i.qc(16),n=i.qc(28);i.vc(12),i.nc("ngIf",i.jc(13,8,e.bchDataUrl$)),i.vc(15),i.nc("value",i.jc(17,10,e.cashAddr$)),i.vc(18),i.nc("copyInputElement",t),i.nc("copyNotificationText","Copied address to clipboard"),i.vc(24),i.nc("ngIf",i.jc(25,12,e.slpDataUrl$)),i.vc(27),i.nc("value",i.jc(29,14,e.slpAddr$)),i.vc(30),i.nc("copyInputElement",n),i.nc("copyNotificationText","Copied address to clipboard")}},directives:[ht.a,m.a,ut.a,O.a,c.t,x.a,r],pipes:[c.b],styles:[".wallet-receive[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;padding-bottom:100px}.wallet-receive[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px;margin-bottom:30px;text-align:center}.wallet-receive__header[_ngcontent-%COMP%]{margin-bottom:50px}.wallet-receive__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.wallet-receive__widget[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:40px;max-width:800px;width:100%}.wallet-receive__qr[_ngcontent-%COMP%]{display:flex;height:200px;justify-content:center;margin-bottom:30px}.wallet-receive__qr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto}.wallet-receive__address[_ngcontent-%COMP%]{background:#f2f2f2;border-radius:4px;display:flex;flex-shrink:0;height:60px;padding:10px 20px;width:100%}.wallet-receive__address[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:0;border:0;font-size:18px;margin-right:10px;width:100%}.wallet-receive__address[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.wallet-receive__address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{align-self:flex-end;background:#5ebd6d;border-radius:4px;color:#fff;cursor:pointer;font-size:15px;font-weight:500;margin-left:10px;padding:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"],changeDetection:0});var Rt=n("itXk");const Xt=[1,"wallet-send"],Gt=[1,"wallet-send--title"],Ht=[1,"wallet-send__widget"],Kt=[1,"wallet-send__select"],Vt=["type","text","placeholder","Address",1,"wallet-send__address",3,"ngModel","ngModelChange"],Qt=[1,"wallet-send__amount"],Zt=[1,"wallet-send__amount__input-wrapper"],Yt=["type","number","placeholder","Amount",3,"min","max","ngModel","ngModelChange"],te=["class","wallet-send__amount__input-wrapper--usd",4,"ngIf"],ee=[1,"wallet-send__amount--bottom"],ne=[3,"click"],ce=[4,"ngIf","ngIfElse"],ie=["bch",""],ae=["button-full","","button-lg","",1,"wallet-send__widget--button",3,"click"],se=[1,"wallet-send__list"],oe=["class","mb-md",3,"item","click",4,"ngIf"],le=["class","mb-md",3,"item","click",4,"ngFor","ngForOf"],re=[1,"wallet-send__amount__input-wrapper--usd"];function pe(t,e){if(1&t&&(i.Ub(0,"p",re),i.Ac(1),i.ic(2,"usdFormatter"),i.Ob()),2&t){const t=i.hc();i.vc(1),i.Bc(1,i.bc(" ",i.jc(2,1,t.selectedAmount*t.usd)," USD "))}}function de(t,e){if(1&t&&(i.Nb(0),i.Ac(1),i.ic(2,"async"),i.Mb()),2&t){const t=i.hc();i.vc(1),i.Bc(1,i.bc(" ",i.jc(2,1,t.selected$).balance||0," "))}}function be(t,e){if(1&t&&(i.Ac(0),i.ic(1,"bchSeparator"),i.ic(2,"async")),2&t){const t=i.hc();i.vc(0),i.Bc(0,i.bc(" ",i.jc(1,1,i.jc(2,3,t.selected$).balance)||0," "))}}const ge=[1,"mb-md",3,"item","click"],he=["checkbox","",1,"wallet-send__check"],ue=["wallet-send__check--selected"];function _e(t,e){if(1&t){const t=i.Xb();i.Ub(0,"app-coin-card",ge),i.cc("click",function(e){return i.sc(t),i.hc().selectBch()}),i.Ub(1,"div",he),i.Vb(ue),i.ic(2,"async"),i.Jb(3,"div"),i.Ob(),i.Ob()}if(2&t){const t=e.ngIf,n=i.hc();i.vc(0),i.nc("item",t),i.Lb(1,0,!i.jc(2,1,n.selected$).isToken),i.Wb(1)}}function fe(t,e){if(1&t){const t=i.Xb();i.Ub(0,"app-coin-card",ge),i.cc("click",function(n){i.sc(t);const c=e.$implicit;return i.hc().selectToken(c)}),i.Ub(1,"div",he),i.Vb(ue),i.ic(2,"async"),i.Jb(3,"div"),i.Ob(),i.Ob()}if(2&t){const t=e.$implicit,n=i.hc();i.vc(0),i.nc("item",t),i.Lb(1,0,t.id===i.jc(2,1,n.selected$).tokenId),i.Wb(1)}}class we{constructor(t,e,n){this.cashContractsService=t,this.endpointsService=e,this.router=n,this.selected$=new W.a({}),this.bchDetails$=new W.a(null),this.tokens$=new W.a([]),this.selectedAddress="",this.selectedAmount=0,this.usd=0,this.fee=0,this.destroy$=new E.a,this.selectBch=(()=>{const t=Object(N.b)(this.wallet.nonTokenBalance());this.selected$.next({name:"Bitcoin Cash",balance:t,isToken:!1}),this.selectedAmount=t,this.setFee()}),this.selectToken=(t=>{this.selected$.next({name:t.name,balance:t.balance,isToken:!0,tokenId:t.id}),this.selectedAmount=t.balance,this.setFee()}),this.send=(()=>{this.selectedAddress&&this.selectedAmount&&this.selected$.pipe(Object(f.a)(1)).subscribe(t=>{t.isToken?this.cashContractsService.sendToken(this.selectedAddress,this.selectedAmount,t.tokenId,t.name):this.cashContractsService.sendBch(this.selectedAddress,this.selectedAmount)})}),this.setMax=(()=>{this.selected$.pipe(Object(f.a)(1)).subscribe(t=>{this.selectedAmount=t.balance})}),this.setFee=(()=>{this.selected$.pipe(Object(f.a)(1)).subscribe(t=>{let e=0;e=t.isToken?this.cashContractsService.getTokenFee(t.tokenId,this.selectedAmount||0):this.cashContractsService.getBchFee(Object(N.a)(this.selectedAmount||0)),this.fee=Object(N.b)(e)*this.usd})}),this.handleWallet=(()=>{const t={name:"Bitcoin Cash",symbol:"BCH",balance:Object(N.b)(this.wallet.nonTokenBalance())};this.bchDetails$.next(t),this.initSelected&&this.initSelected.name?(this.selected$.next({name:this.initSelected.name,balance:this.initSelected.balance,isToken:!0,tokenId:this.initSelected.tokenId}),this.selectedAmount=this.initSelected.balance):(this.selected$.next({name:t.name,balance:t.balance,isToken:!1}),this.selectedAmount=t.balance),this.setFee()}),this.setTokens=(()=>gt.a(this,void 0,void 0,function*(){const t=(yield this.wallet.tokenIds()).map(t=>Object.assign({},this.wallet.tokenDetails(t),{balance:this.wallet.tokenBalance(t),isToken:!0}));this.tokens$.next(t.toArray())})),this.router.getCurrentNavigation().extras.state&&(this.initSelected=this.router.getCurrentNavigation().extras.state.selected)}ngOnInit(){Object(Rt.a)([this.cashContractsService.listenWallet.pipe(Object(F.a)(this.destroy$)),this.endpointsService.getBchUsdPrice().pipe(Object(f.a)(1))]).pipe(Object(F.a)(this.destroy$)).subscribe(t=>{const[e,n]=t;this.wallet=e,this.usd=+n.ticker.price||0,this.wallet&&(this.handleWallet(),this.setTokens())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}we.ngComponentDef=i.Cb({type:we,selectors:[["app-wallet-send"]],factory:function(t){return new(t||we)(i.Ib(u.a),i.Ib(z.a),i.Ib(w.c))},consts:38,vars:25,template:function(t,e){if(1&t&&(i.Ub(0,"app-modal"),i.Ub(1,"app-wrapper"),i.Ub(2,"app-modal-heading"),i.Ac(3," Send "),i.Ob(),i.Ub(4,"div",Xt),i.Ub(5,"p",Gt),i.Ac(6," Praesent egestas tristique nibh. "),i.Ob(),i.Ub(7,"app-widget",Ht),i.Ub(8,"h2"),i.Ac(9),i.ic(10,"async"),i.Ob(),i.Ub(11,"div",Kt),i.Ub(12,"input",Vt),i.cc("ngModelChange",function(t){return e.selectedAddress=t}),i.Ob(),i.Ub(13,"div",Qt),i.Ub(14,"div",Zt),i.Ub(15,"input",Yt),i.cc("ngModelChange",function(t){return e.selectedAmount=t}),i.cc("ngModelChange",function(t){return e.setFee()}),i.ic(16,"async"),i.Ob(),i.yc(17,pe,3,3,"p",te),i.ic(18,"async"),i.Ob(),i.Ub(19,"div",ee),i.Ub(20,"p"),i.Ac(21),i.ic(22,"usdFormatter"),i.Ob(),i.Ub(23,"p",ne),i.cc("click",function(t){return e.setMax()}),i.Ac(24," Max: "),i.yc(25,de,3,3,"ng-container",ce),i.ic(26,"async"),i.yc(27,be,3,5,"ng-template",null,ie,i.zc),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ub(29,"app-button",ae),i.cc("click",function(t){return e.send()}),i.Ac(30," Send "),i.Ob(),i.Ob(),i.Ub(31,"div",se),i.Ub(32,"h3"),i.Ac(33,"Available BCH / Tokens"),i.Ob(),i.yc(34,_e,4,3,"app-coin-card",oe),i.ic(35,"async"),i.yc(36,fe,4,3,"app-coin-card",le),i.ic(37,"async"),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t){const t=i.qc(28);i.vc(9),i.Bc(9,i.bc(" ",i.jc(10,11,e.selected$).name||"\xa0"," ")),i.vc(12),i.nc("ngModel",e.selectedAddress),i.vc(15),i.nc("min",0),i.nc("max",i.jc(16,13,e.selected$).balance),i.nc("ngModel",e.selectedAmount),i.vc(17),i.nc("ngIf",!i.jc(18,15,e.selected$).isToken),i.vc(21),i.Bc(21,i.bc("Fee: ",i.jc(22,17,e.fee)," USD")),i.vc(25),i.nc("ngIf",i.jc(26,19,e.selected$).isToken),i.nc("ngIfElse",t),i.vc(34),i.nc("ngIf",i.jc(35,21,e.bchDetails$)),i.vc(36),i.nc("ngForOf",i.jc(37,23,e.tokens$))}},directives:[ht.a,m.a,ut.a,O.a,a.c,a.h,a.l,a.o,c.t,x.a,c.s,L.a],pipes:[c.b,q.a,J.a],styles:['.wallet-send[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.wallet-send[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#f2f2f2;border:0;border-radius:4px;font-size:18px;height:30px;padding:20px 10px;width:100%}.wallet-send[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .wallet-send[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none}.wallet-send[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.wallet-send--title[_ngcontent-%COMP%]{color:#fff;margin-bottom:40px}.wallet-send__widget[_ngcontent-%COMP%]{align-items:center;flex-direction:column;justify-content:center;margin-bottom:50px;max-width:800px;width:100%}.wallet-send__widget[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;font-weight:600;margin-bottom:20px}.wallet-send__widget--button[_ngcontent-%COMP%]{margin-top:80px}.wallet-send__select[_ngcontent-%COMP%]{display:flex;width:100%}.wallet-send__address[_ngcontent-%COMP%]{flex:1}.wallet-send__amount[_ngcontent-%COMP%]{flex:0 0 auto;margin-left:10px;width:280px}.wallet-send__amount__input-wrapper[_ngcontent-%COMP%]{position:relative}.wallet-send__amount__input-wrapper--usd[_ngcontent-%COMP%]{align-items:center;bottom:0;color:#828282;display:flex;font-size:11px;font-weight:600;pointer-events:none;position:absolute;right:10px;top:0}.wallet-send__amount--bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}.wallet-send__amount--bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5ebd6d;cursor:pointer;font-size:12px;font-weight:600;margin-left:10px;text-align:right}.wallet-send__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:800px;width:100%}.wallet-send__list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-bottom:10px}.wallet-send__check[_ngcontent-%COMP%]{align-items:center;border:3px solid #e6e6e6;border-radius:100%;display:flex;height:22px;justify-content:center;margin-right:30px;width:22px}.wallet-send__check--selected[_ngcontent-%COMP%]{border-color:#5ebd6d}.wallet-send__check--selected[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#5ebd6d;border-radius:100%;content:"";height:8px;width:8px}'],changeDetection:0});class me{constructor(){}ngOnInit(){}}me.ngComponentDef=i.Cb({type:me,selectors:[["app-wallet"]],factory:function(t){return new(t||me)},consts:1,vars:0,template:function(t,e){1&t&&i.Jb(0,"router-outlet")},directives:[w.h],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;width:100%}"],changeDetection:0});class Oe{constructor(t,e){this.router=t,this.cashContractsService=e,this.checkIfUserHasWallet=(()=>(this.cashContractsService.listenIsSecretInStorage.pipe(Object(f.a)(1)).subscribe(t=>{t||this.router.navigate([`${_.a.wallet}/${_.a.walletCreate}`])}),!0))}canActivate(){return this.checkIfUserHasWallet()}}Oe.ngInjectableDef=i.Eb({token:Oe,factory:function(t){return new(t||Oe)(i.Zb(w.c),i.Zb(u.a))},providedIn:"root"});const xe=[{path:"",component:me,children:[{path:_.a.walletCreate,component:T},{path:"",component:bt,canActivate:[Oe]},{path:_.a.walletReceive,component:qt,canActivate:[Oe]},{path:_.a.walletSend,component:we,canActivate:[Oe]},{path:_.a.walletExport,component:$t,canActivate:[Oe]}]}];class ve{}ve.ngModuleDef=i.Gb({type:ve}),ve.ngInjectorDef=i.Fb({factory:function(t){return new(t||ve)},imports:[[w.g.forChild(xe)],w.g]}),w.g.forChild(xe),n.d(e,"WalletModule",function(){return ye});class ye{}ye.ngModuleDef=i.Gb({type:ye}),ye.ngInjectorDef=i.Fb({factory:function(t){return new(t||ye)},imports:[[c.c,ve,h.a,b.a,p,a.e,d.a,g.a,o.a,s.a]]})}}]);